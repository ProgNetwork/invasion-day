
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="322af936-7903-53c3-9edf-78a7dcfca6fc")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2006677,e=>{"use strict";e.s(["Question",()=>t]);let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM9 11C9 11.5523 8.55229 12 8 12C7.44772 12 7 11.5523 7 11C7 10.4477 7.44772 10 8 10C8.55229 10 9 10.4477 9 11ZM7.09584 5.82182C7.25716 5.48223 7.6022 5.25 7.99999 5.25C8.55227 5.25 8.99999 5.69772 8.99999 6.25C8.99999 6.75329 8.62748 7.17086 8.14337 7.23989C7.70367 7.3026 7.24999 7.67511 7.24999 8.25V8.5V9.25H8.74999V8.63535C9.76443 8.31661 10.5 7.36971 10.5 6.25C10.5 4.86929 9.3807 3.75 7.99999 3.75C7.00158 3.75 6.14136 4.3353 5.74095 5.17818L5.41913 5.85563L6.77402 6.49926L7.09584 5.82182Z" fill="currentColor"/>')},2112997,e=>{e.v({checked:"switch-control-module__WvDOda__checked",container:"switch-control-module__WvDOda__container",control:"switch-control-module__WvDOda__control",disabled:"switch-control-module__WvDOda__disabled",icon:"switch-control-module__WvDOda__icon",large:"switch-control-module__WvDOda__large",small:"switch-control-module__WvDOda__small",text:"switch-control-module__WvDOda__text"})},1328457,e=>{e.v({hideBorder:"switch-module__idkRsq__hideBorder",large:"switch-module__idkRsq__large",small:"switch-module__idkRsq__small",switch:"switch-module__idkRsq__switch"})},8923565,e=>{"use strict";e.s(["Switch",()=>u],8923565);var t=e.i(751170),l=e.i(4099374),r=e.i(9722978),a=e.i(9508212),i=e.i(7919698),n=e.i(1344973),s=e.i(2112997),o=e.i(1328457);let u=Object.assign((0,l.forwardRef)(function(e,i){let{className:n,size:s,name:u,children:d,hideBorder:c,checkedColor:m,...p}=e;return(0,t.jsx)(a.Stack,{className:(0,r.clsx)(n,o.default.switch,{[String(o.default.large)]:"large"===s,[String(o.default.small)]:"small"===s,[String(o.default.hideBorder)]:c}),direction:"row",...p,ref:i,children:l.Children.map(d,e=>(0,l.cloneElement)(e,{name:u,size:s,checkedColor:m}))})}),{Control:function(e){let{className:a,icon:o,label:u,size:d,checked:c,disabled:m,checkedColor:p="var(--ds-gray-100)",innerDivClassName:g,...f}=e,h=void 0!==o,v=(0,r.clsx)(s.default.control,{[String(s.default.disabled)]:m,[String(s.default.checked)]:c,[String(s.default.large)]:"large"===d,[String(s.default.small)]:"small"===d,[String(s.default.text)]:!h,[String(s.default.icon)]:h}),x=o?(0,t.jsxs)(t.Fragment,{children:[(0,l.cloneElement)(o,{size:"large"===d?20:16}),(0,t.jsx)("span",{className:"geist-sr-only",children:u})]}):u;return"href"in f&&void 0!==f.href?m?(0,t.jsx)(n.Text,{as:"span",className:v,style:{"--switch-checked-color":p},children:x}):(0,t.jsx)(i.default,{className:v,href:f.href,onClick:f.onClick,prefetch:f.prefetch,scroll:!1,style:{"--switch-checked-color":p},children:x}):(0,t.jsxs)("label",{className:(0,r.clsx)(s.default.container,a),"data-disabled":m?"true":"false",children:[(0,t.jsx)("input",{...f,checked:c,className:"geist-sr-only",disabled:m,type:"radio"}),(0,t.jsx)("div",{className:(0,r.clsx)(v,g),style:{"--switch-checked-color":p},children:x})]})}})},2107254,3839101,e=>{"use strict";e.s(["default",()=>g,"preloadProjectListInfinite",()=>m,"useProjectListInfinite",()=>p],2107254);var t=e.i(4099374),l=e.i(9014736),r=e.i(406579),a=e.i(4281854),i=e.i(8042625),n=e.i(277234),s=e.i(4244280),o=e.i(9668517),u=e.i(5140444);function d(e){let{version:t,until:l,limit:r,latestDeployments:a,search:n,slug:o,excludeRepos:u,edgeConfigId:d,edgeConfigTokenId:c,connectConfigurationId:m}=e;return`${(0,s.API_PROJECTS_VERSION)(t)}${(0,i.encode)({until:l,limit:r,latestDeployments:a,search:n,slug:o,excludeRepos:u,edgeConfigId:d,edgeConfigTokenId:c,connectConfigurationId:m})}`}e.s(["getProjectListInfiniteKey",()=>d],3839101);let c=null;function m(e,t){let{limit:l=8,latestDeployments:r=3,excludeReposRef:a}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v9",u=`${(0,s.API_PROJECTS_VERSION)(o)}${(0,i.encode)({limit:l,latestDeployments:r,slug:t,excludeRepos:a?.current[0]??null})}`;c=[u,(0,n.fetchAPI)(u)]}function p(){let{fetchEnabled:e=!0,limit:i=8,latestDeployments:s=3,search:u,excludeReposRef:m,revalidateFirstPage:p=!0,edgeConfigId:g,edgeConfigTokenId:f,connectConfigurationId:h,version:v="v9",slug:x}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=arguments.length>2&&void 0!==arguments[2]&&arguments[2],C=arguments.length>3&&void 0!==arguments[3]&&arguments[3],w=(0,a.useRouter)(),S=(0,o.useTeamSlug)(),V=x||S,j=(0,r.default)((t,l)=>{if(!e||w&&!w.isReady)return null;if(!t)return d({version:v,limit:i,latestDeployments:s,search:u,slug:V,excludeRepos:m?.current[0]??null,edgeConfigId:g,edgeConfigTokenId:f,connectConfigurationId:h});let r=l?.pagination.next?l.pagination.next:null;return r?d({version:v,until:r,limit:i,latestDeployments:s,search:u,slug:V,excludeRepos:m?.current[t]??null,edgeConfigId:g,edgeConfigTokenId:f,connectConfigurationId:h}):null},async e=>{if(c&&c[0]===e){let e=await c[1];return c=null,e}return(0,n.fetchAPI)(e,{throwOnHTTPError:!0})},{...y,keepPreviousData:C,revalidateFirstPage:p,persistSize:!0}),N=!!j.data,O=(j.data?.[j.data.length-1]?.projects.length??0)<i,k=(0,t.useMemo)(()=>j.data?j.data.flatMap(e=>e.projects):[],[j.data]),L=N&&0===k.length,_=!!(j.data&&j.size>j.data.length);return(0,l.default)(()=>{if(b||!j.data||O)return null;let e=j.data[j.data.length-1];return d({version:v,until:e?.pagination.next?e.pagination.next:null,limit:i,latestDeployments:s,search:u,slug:V,excludeRepos:m?.current[0]??null,edgeConfigId:g,edgeConfigTokenId:f,connectConfigurationId:h})},e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0})),[j,{projects:k,initialDataLoaded:N,isEmpty:L,loadMore:()=>j.setSize(e=>e+1),isLoadingMore:_,isReachingEnd:O,isValidating:j.isValidating}]}function g(){let{fetchEnabled:e=!0,limit:r,from:d,linked:c,search:m,hasProductionDomains:p,domain:g,latestDeployments:f=3,deploymentInfo:h,includePermissions:v=!1,edgeConfigId:x,edgeConfigTokenId:y,connectConfigurationId:b,excludeConnectConfigurationId:C,teamId:w}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=arguments.length>2?arguments[2]:void 0,j=arguments.length>3?arguments[3]:void 0,N=(0,o.useTeamSlug)(),O=(0,a.useRouter)(),{user:k,isNorthstar:L}=(0,u.useUser)(),[_,I]=(0,t.useState)(m);return(0,t.useEffect)(()=>{I(e=>e===m?e:m)},[m]),{...(0,l.default)(()=>e&&(!O||O.isReady)&&k&&(!L||k.defaultTeamId||w)?`${(0,s.API_PROJECTS_VERSION)("v8")}${(0,i.encode)({from:d||null,limit:r,linked:!!c||null,search:_,hasProductionDomains:p?"1":null,domain:g,latestDeployments:void 0===f?null:f,deploymentInfo:h||null,slug:V||N,includePermissions:v,edgeConfigId:x,edgeConfigTokenId:y,connectConfigurationId:b,excludeConnectConfigurationId:C,teamId:w||null})}`:null,e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0,throwOnScopeAuthError:j?.throwOnScopeAuthError}),S),updateSearch:I,search:_}}},5366204,e=>{"use strict";e.s(["Link",()=>t]);let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.46968 1.46968C10.1433 -0.203925 12.8567 -0.203923 14.5303 1.46968C16.2039 3.14329 16.2039 5.85674 14.5303 7.53034L12.0303 10.0303L10.9697 8.96968L13.4697 6.46968C14.5575 5.38186 14.5575 3.61816 13.4697 2.53034C12.3819 1.44252 10.6182 1.44252 9.53034 2.53034L7.03034 5.03034L5.96968 3.96968L8.46968 1.46968ZM11.5303 5.53034L5.53034 11.5303L4.46968 10.4697L10.4697 4.46968L11.5303 5.53034ZM1.46968 14.5303C3.14329 16.2039 5.85673 16.204 7.53034 14.5303L10.0303 12.0303L8.96968 10.9697L6.46968 13.4697C5.38186 14.5575 3.61816 14.5575 2.53034 13.4697C1.44252 12.3819 1.44252 10.6182 2.53034 9.53034L5.03034 7.03034L3.96968 5.96968L1.46968 8.46968C-0.203923 10.1433 -0.203925 12.8567 1.46968 14.5303Z" fill="currentColor"/>')},545405,e=>{"use strict";function t(e){navigator.clipboard.writeText(e)}e.s(["copyToClipboard",()=>t])},5627633,e=>{"use strict";e.s(["formatDuration",()=>a]);var t=e.i(8238153),l=e.i(8492421);let r=["years","months","weeks","days","hours","minutes","seconds"];function a(e,a){let i=(0,l.getDefaultOptions)(),n=a?.locale??i.locale??t.defaultLocale,s=a?.format??r,o=a?.zero??!1,u=a?.delimiter??" ";return n.formatDistance?s.reduce((t,l)=>{let r=`x${l.replace(/(^.)/,e=>e.toUpperCase())}`,a=e[l];return void 0!==a&&(o||e[l])?t.concat(n.formatDistance(r,a)):t},[]).join(u):""}},2812875,e=>{"use strict";e.s(["subMonths",()=>l]);var t=e.i(4495794);function l(e,l,r){return(0,t.addMonths)(e,-l,r)}},1019550,(e,t,l)=>{var r=e.r(9225935),a=e.r(1716110),i=e.r(5697125),n=Math.ceil,s=Math.max;t.exports=function(e,t,l){t=(l?a(e,t,l):void 0===t)?1:s(i(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var u=0,d=0,c=Array(n(o/t));u<o;)c[d++]=r(e,u,u+=t);return c}},8355955,e=>{e.v(JSON.parse('{"previous":"Previous","next":"Next","selectedDateDescription":"Selected Date: {date, date, full}","selectedRangeDescription":"Selected Range: {start, date, long} to {end, date, long}","todayDate":"Today, {date, date, full}","todayDateSelected":"Today, {date, date, full} selected","dateSelected":"{date, date, full} selected","startRangeSelectionPrompt":"Click to start selecting date range","finishRangeSelectionPrompt":"Click to finish selecting date range"}'))},6995468,e=>{"use strict";e.s(["Calendar",()=>t]);let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 0.5V1.25V2H10.5V1.25V0.5H12V1.25V2H14H15.5V3.5V13.5C15.5 14.8807 14.3807 16 13 16H3C1.61929 16 0.5 14.8807 0.5 13.5V3.5V2H2H4V1.25V0.5H5.5ZM2 3.5H14V6H2V3.5ZM2 7.5V13.5C2 14.0523 2.44772 14.5 3 14.5H13C13.5523 14.5 14 14.0523 14 13.5V7.5H2Z" fill="currentColor"/>')},8250954,e=>{"use strict";e.s(["constructNow",()=>l]);var t=e.i(9487122);function l(e){return(0,t.constructFrom)(e,Date.now())}},7867910,e=>{"use strict";e.s(["useHotkey",()=>l]);var t=e.i(4099374);function l(e,l){(0,t.useEffect)(()=>{let t=t=>{let r=document.activeElement,a=r&&["input","select","textarea"].includes(r.tagName.toLowerCase());t.key.toLowerCase()!==l||a||t.ctrlKey||t.metaKey||(t.preventDefault(),e())};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e,l])}},4998750,e=>{"use strict";e.s(["DEFAULT_TIME_VALUE",()=>a,"TIME_VARIABLE",()=>r,"extractError",()=>l,"parseNotebook",()=>i,"replaceVariables",()=>s,"serializeVariables",()=>n]);var t=e.i(2749380);function l(e){return null==e?"Please retry later":`${e.message??e}`}let r="$time",a="12h";function i(e){let{variables:l,widgets:r,...a}=e;return{...a,variables:function(e){if(e)return{...e,time:e.time?(0,t.parseTime)(e.time):void 0}}(l),widgets:r?.map(e=>{let{query:{time:l,...r},...a}=e;return{type:"query-visualization",...a,query:{...r,time:(0,t.parseTime)(l)}}})}}function n(e){if(!e)return;let{time:t,...l}=e;return{...l,time:t?"string"==typeof t?t:{from:t.from.toISOString(),to:t.to.toISOString()}:void 0}}function s(e,t){return t?{...e,time:e.time===r&&t.time?t.time:e.time}:e}},8673480,e=>{"use strict";function t(e,t){let{id:l,teamSlug:r}=t;return`${e.replace("{id}",l??"")}?${new URLSearchParams({slug:r}).toString()}`}function l(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return l=>{let r=l??{hasAccess:!0,notebooks:[]},a=r.notebooks.findIndex(t=>{let{id:l}=t;return l===e.id});return -1!==a?t?r.notebooks[a]=e:r.notebooks.splice(a,1):t&&r.notebooks.push(e),r}}function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0;return r=>{if(!r)return{...e,widgets:t?[t]:void 0};let a={...r,...e};if(l&&(a.widgets=a.widgets?.filter(e=>{let{id:t}=e;return t!==l})),t){a.widgets||(a.widgets=[]);let e=a.widgets.findIndex(e=>{let{id:l}=e;return l===t.id});a.widgets=[...a.widgets.slice(0,e),t,...a.widgets.slice(e+1)]}return a}}e.s(["buildSWRKey",()=>t,"updateCachedList",()=>l,"updateCachedNotebook",()=>r])},5086286,e=>{"use strict";e.s(["useCreateNotebook",()=>m]);var t=e.i(4998750),l=e.i(2749380),r=e.i(4244280),a=e.i(9668517),i=e.i(5338940),n=e.i(9979783),s=e.i(7151748),o=e.i(3870297),u=e.i(9830371),d=e.i(6597743),c=e.i(8673480);function m(){let e=(0,a.useTeamSlug)()??"",{team:m}=(0,i.useTeam)(),{mutate:p}=(0,u.useSWRConfig)(),g=(0,c.buildSWRKey)(r.API_NOTEBOOKS,{teamSlug:e}),{trigger:f,isMutating:h}=(0,d.default)(g,async(a,i)=>{let{arg:{title:s,widget:o}}=i,u=(0,t.parseNotebook)(await (0,n.typedFetchData)(r.API_NOTEBOOKS,"post",{slug:e},{title:s,variables:{time:t.DEFAULT_TIME_VALUE},widgets:o?[{query:(0,l.serializeQuery)(o.query),title:o.title}]:void 0},{throwOnHTTPError:!0}));return p((0,c.buildSWRKey)(r.API_NOTEBOOK,{id:u.id,teamSlug:e}),(0,c.updateCachedNotebook)(u,u.widgets?.[0])),setTimeout(()=>void p(g,(0,c.updateCachedList)(u)),1e3),u},{revalidate:!1});return{createNotebook:async(e,t)=>{let l=await f(e);return s.analytics.track(o.AnalyticsEvent.OBSERVABILITY_NOTEBOOK_CREATED,{teamId:m?.id,plan:m?.billing?.plan??"hobby",hasInitialWidget:!!e.widget,source:t??"notebook-list-page"}),l},isSaving:h}}},7371622,e=>{"use strict";e.s(["useNotebooks",()=>i]);var t=e.i(4244280),l=e.i(9668517),r=e.i(215852),a=e.i(8673480);function i(){let e=(0,l.useTeamSlug)()??"";return(0,r.useIsomorphicSuspenseSWR)((0,a.buildSWRKey)(t.API_NOTEBOOKS,{teamSlug:e})).data}},9096446,e=>{"use strict";e.s(["CrossSmall",()=>t]);let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M9.96966 11.0303L10.5 11.5607L11.5607 10.5L11.0303 9.96966L9.06065 7.99999L11.0303 6.03032L11.5607 5.49999L10.5 4.43933L9.96966 4.96966L7.99999 6.93933L6.03032 4.96966L5.49999 4.43933L4.43933 5.49999L4.96966 6.03032L6.93933 7.99999L4.96966 9.96966L4.43933 10.5L5.49999 11.5607L6.03032 11.0303L7.99999 9.06065L9.96966 11.0303Z" fill="currentColor"/>')},3675495,e=>{"use strict";e.s(["Percentage",()=>t]);let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M11.4749 1.33217L11.1964 2.02853L6.19636 14.5285L5.91781 15.2249L4.5251 14.6678L4.80364 13.9714L9.80364 1.47144L10.0822 0.775085L11.4749 1.33217ZM4 5.49999C4.82843 5.49999 5.5 4.82841 5.5 3.99999C5.5 3.17156 4.82843 2.49999 4 2.49999C3.17157 2.49999 2.5 3.17156 2.5 3.99999C2.5 4.82841 3.17157 5.49999 4 5.49999ZM7 3.99999C7 5.65684 5.65685 6.99999 4 6.99999C2.34315 6.99999 1 5.65684 1 3.99999C1 2.34313 2.34315 0.999986 4 0.999986C5.65685 0.999986 7 2.34313 7 3.99999ZM13.5 12C13.5 12.8284 12.8284 13.5 12 13.5C11.1716 13.5 10.5 12.8284 10.5 12C10.5 11.1716 11.1716 10.5 12 10.5C12.8284 10.5 13.5 11.1716 13.5 12ZM12 15C13.6569 15 15 13.6568 15 12C15 10.3431 13.6569 8.99999 12 8.99999C10.3431 8.99999 9 10.3431 9 12C9 13.6568 10.3431 15 12 15Z" fill="currentColor"/>')},9192216,e=>{"use strict";e.s(["CommandMenu",()=>c]);var t=e.i(751170),l=e.i(4004502),r=e.i(3929288),a=e.i(9689002),i=e.i(5255926),n=e.i(1344973),s=e.i(8735244),o=e.i(5883567),u=e.i(6143247),d=e.i(4099374);function c(e){let{label:n,options:o,isLoading:c,isSelected:g,onChange:f,onSearch:h,parseNewValue:v,getId:x,getValue:y,value:b,open:C,reverse:w,...S}=e,[V,j]=(0,d.useState)(""),[N,O]=(0,d.useState)(!1),[k,L]=(0,d.useState)(!1),_=(0,d.useRef)(null),I=(0,d.useRef)(null),T=(0,d.useRef)(0);(0,d.useEffect)(()=>{b&&C&&setTimeout(()=>{let e=I.current?.querySelector(`[data-value="${y(b)}"]`);e?.scrollIntoView({block:"start"})},50)},[C]);let H=(0,d.useMemo)(()=>o?.length?`Find ${n}...`:`Enter ${n}`,[o,n]),{selected:P,groups:R}=(0,d.useMemo)(()=>{let e={selected:[],groups:{}};for(let t of o??[])if(g?.(t))e.selected.push(t);else{let l=t.group??"";l in e.groups||(e.groups[l]=[]),e.groups[l].push(t)}return e},[o,g]),E=(0,d.useMemo)(()=>v&&V.length>0&&(o??[]).every(e=>x(e)!==V),[V,o,x,v]),D=(0,d.useCallback)(e=>{if(v){let t=v(e);null===t?O(!0):(f(t),j(""),_.current?.focus())}},[f,v]),M=(0,d.useCallback)(e=>{j(e),O(!1),clearTimeout(T.current),h&&(T.current=setTimeout(()=>{L(!0),h(e).finally(()=>L(!1))},250))},[h]),A=(0,d.useCallback)(e=>{if("Tab"===e.key)e.key=e.shiftKey?"ArrowUp":"ArrowDown";else if(" "===e.key&&0===V.trim().length){e.preventDefault();let t=I.current?.querySelector('[aria-selected="true"] input[type="checkbox"]');t?.click()}},[V]);return(0,t.jsxs)(r.Command,{className:(0,u.cn)("w-100 rounded-lg border-gray-alpha-400 bg-background-100 shadow-menu flex",w?"flex-col-reverse":"flex-col"),loop:!0,onKeyDown:A,children:[(0,t.jsxs)("div",{className:(0,u.cn)("flex w-full items-center justify-between px-4 py-3",o?.length!==0&&"border-b"),children:[(0,t.jsx)(r.Command.Input,{className:(0,u.cn)("w-full border-none bg-transparent text-sm outline-none",N&&"text-[--geist-error]"),onValueChange:M,placeholder:H,ref:_,value:V}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-[14px] flex justify-center",children:k&&(0,t.jsx)(s.Spinner,{size:14})}),(0,t.jsx)(a.Kbd,{small:!0,children:"Esc"})]})]}),(0,t.jsxs)(r.Command.List,{className:"flex max-h-[288px] w-full flex-col overflow-y-auto",ref:I,children:[o&&!c?(0,t.jsxs)(t.Fragment,{children:[P.length?(0,t.jsx)(m,{addBorder:!0,getId:x,getValue:y,items:P,onChange:f,setSearch:j,...S}):null,Object.entries(R).map(e=>{let[l,r]=e;return(0,t.jsx)(m,{getId:x,getValue:y,heading:l,items:r,onChange:f,setSearch:j,...S},l)})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 p-2","data-testid":(0,l.tid)("command-menu","loading"),children:[(0,t.jsx)(i.Skeleton,{className:"h-4",width:"100%"}),(0,t.jsx)(i.Skeleton,{className:"h-4",width:"100%"}),(0,t.jsx)(i.Skeleton,{className:"h-4",width:"100%"})]}),!c&&!k&&o&&(0,t.jsxs)(r.Command.Empty,{className:"px-4 py-3 text-center text-sm text-gray-900",children:["No matching ",n.toLowerCase()]}),E?(0,t.jsx)(p,{onAddNew:D,search:V}):null]})]})}function m(e){let{heading:l,items:a,setSearch:i,renderItem:n,getId:s,getValue:o,onChange:d,addBorder:c}=e;return a.length?(0,t.jsx)(r.Command.Group,{className:(0,u.cn)("h-full p-1.5  [&>[cmdk-group-heading]]:px-2 [&>[cmdk-group-heading]]:pb-1 [&>[cmdk-group-heading]]:pt-0.5 [&>[cmdk-group-heading]]:text-xs [&>[cmdk-group-heading]]:text-gray-800",c&&"border-b"),heading:l,children:a.map(e=>(0,t.jsx)(r.Command.Item,{className:"w-full cursor-pointer rounded-md text-sm *:aria-selected:rounded  *:aria-selected:bg-gray-100 focus-visible:bg-gray-100 active:bg-gray-100",onSelect:()=>{d(e),i("")},value:o(e),children:n(e)},s(e)))}):null}function p(e){let{search:l,onAddNew:a}=e;return(0,t.jsx)(r.Command.Group,{className:"sticky bottom-0 z-10 rounded-b-lg border-t bg-white outline-none -mt-px",children:(0,t.jsx)(r.Command.Item,{"aria-label":`add ${l}`,className:"flex w-full cursor-pointer items-center p-1 text-gray-900 *:aria-selected:rounded *:aria-selected:bg-gray-100 focus-visible:bg-gray-100 active:bg-gray-100",onSelect:()=>a(l),value:l,children:(0,t.jsxs)("div",{className:"flex w-full items-center gap-2 p-1.5",children:[(0,t.jsx)(o.PlusCircle,{size:14}),(0,t.jsx)(n.Text,{className:"text-gray-900",size:14,children:`Add "${l}"`})]})})})}},5376857,8569407,e=>{"use strict";e.s(["FilterBarContext",()=>t],5376857);let t=(0,e.i(4099374).createContext)(null);t.displayName="FilterBarContext",e.s(["AddFilter",()=>n],8569407);var l=e.i(751170),r=e.i(2504781),a=e.i(1971436),i=e.i(6143247);function n(e){let{iconOnly:t,...n}=e;return(0,l.jsx)(r.Button,{"aria-label":"Add filter",prefix:t?void 0:(0,l.jsx)(a.FilterSmall,{}),shape:t?"square":void 0,size:"small",...n,className:(0,i.cn)("!text-gray-900 hover:!text-gray-1000 data-[state='open']:!bg-gray-100",!t&&"!pl-2",n.className),type:"tertiary",typeName:"button",children:t?(0,l.jsx)(a.FilterSmall,{}):"Add filter"})}},1482596,8815885,e=>{"use strict";e.s(["FilterBar",()=>M],1482596);var t=e.i(751170),l=e.i(4099374),r=e.i(5376857),a=e.i(8569407),i=e.i(2504781),n=e.i(9096446),s=e.i(6143247),o=e.i(4004502),u=e.i(5265628),d=e.i(9722978),c=e.i(3869281),m=e.i(5468328),p=e.i(5499338),g=e.i(9192216),f=e.i(5778089);let h=e=>{let{label:t,id:l}=e;return`${l}${t?`
${t}`:""}`};function v(e){let{values:r,options:a,label:n,rounded:s=!1,size:o="small",onOpenChange:m,onChange:v,onSearch:y,open:b,className:C,parseNewValue:w,children:S,disabled:V,availableOperators:j}=e,N=(0,l.useCallback)(e=>r.some(t=>{let{id:l}=t;return l===e.id}),[r]),O=(0,l.useCallback)(e=>{let l="string"==typeof e.label&&e.label.length>0,r=l?e.label:e.id;return(0,t.jsx)(x,{text:e.tooltip,children:(0,t.jsxs)("div",{className:(0,d.clsx)("flex w-full items-center gap-2 px-2 py-1.5",e.disabled&&"cursor-not-allowed opacity-75"),onClick:t=>{let l=document.getSelection();if(l?.isCollapsed===!1){t.preventDefault(),t.stopPropagation();return}t.target.closest("label")&&(t.preventDefault(),t.stopPropagation(),v(e,!0))},children:[!j||j.some(e=>"multiple"===e.type||"array"===e.type)?(0,t.jsx)(c.Checkbox,{checked:N(e),disabled:e.disabled,onChange:()=>void 0,tabIndex:-1}):null,(0,t.jsx)("div",{className:"flex min-w-0 flex-1 max-w-[min(32rem,75vw)] flex-col items-start",children:l&&e.label!==e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"w-full truncate font-medium leading-tight",title:e.label,children:e.label}),(0,t.jsx)("span",{className:"w-full truncate text-sm text-gray-800 leading-tight",title:e.id,children:e.id})]}):""===r?(0,t.jsx)("span",{className:"text-sm text-gray-800",children:f.emptyStringReplacement}):(0,t.jsx)("span",{className:"w-full truncate",title:r,children:r})}),e.badge?(0,t.jsx)("div",{className:"ml-2 shrink-0",children:(0,t.jsx)(x,{text:e.badge.tooltip,children:(0,t.jsx)(p.Badge,{size:"sm",...e.badge})})}):null]})})},[v,N,j]);return(0,t.jsxs)(u.Root,{modal:!0,onOpenChange:m,open:b,children:[(0,t.jsx)(u.Anchor,{className:"flex",children:(0,t.jsx)(u.Trigger,{asChild:!0,children:S||(0,t.jsx)(i.Button,{className:(0,d.clsx)("!ring-1 ring-gray-400 focus:z-10 focus:ring-gray-500",!s&&"rounded-[0!important]","left"===s&&"rounded-r-[0!important]","right"===s&&"rounded-l-[0!important]",V&&"bg-[var(--themed-bg)!important]",C),disabled:V,size:o,type:"secondary",typeName:"button",children:(0,f.getValueLabel)(r,n)})})}),(0,t.jsx)(u.Portal,{children:(0,t.jsx)(u.Content,{align:"start",className:"tailwind-preflight",onCloseAutoFocus:()=>m(!1),sideOffset:8,children:(0,t.jsx)(g.CommandMenu,{getId:f.getValueId,getValue:h,isSelected:N,label:n,onChange:v,onSearch:y,options:a,parseNewValue:w,renderItem:O})})})]})}function x(e){let{text:l,children:r}=e;return l?(0,t.jsx)(m.Tooltip,{className:"w-full",text:l,children:r}):r}e.s(["SingleFilterPopoverBox",()=>S],8815885);var y=e.i(6198010);let b=e=>{let{id:t}=e;return t},C=e=>{let{label:t,group:l}=e;return`${t}${l?` ${l}`:""}`},w=e=>(0,t.jsxs)("div",{className:"flex w-full items-center gap-2 rounded px-2 py-1.5",children:["icon"in e&&e.icon?(0,t.jsx)(e.icon,{className:"size-4"}):null,e.label]});function S(e){let{label:l,value:r,options:a,onOpenChange:n,open:s,onChange:o,isLoading:c,rounded:m=!1,size:p="small",className:f,children:h,disabled:v,prefix:x,suffix:S,id:V}=e;return(0,t.jsxs)(u.Root,{modal:!0,onOpenChange:n,open:s,children:[(0,t.jsx)(u.Anchor,{className:"flex",children:(0,t.jsx)(u.Trigger,{asChild:!0,children:h||(0,t.jsx)(i.Button,{id:V,"aria-label":`Select ${l}`,className:(0,d.clsx)("!px-1",!m&&"rounded-[0!important]","left"===m&&"rounded-r-[0!important]","right"===m&&"rounded-l-[0!important]",v&&"bg-[var(--themed-bg)!important]",f),disabled:v,prefix:r&&"icon"in r&&r.icon?(0,t.jsx)(r.icon,{className:"size-4"}):x,size:p,suffix:S,type:"secondary",typeName:"button",children:r?r.label:(0,t.jsx)(y.Plus,{"aria-label":`Select ${l}`})})})}),(0,t.jsx)(u.Portal,{children:(0,t.jsx)(u.Content,{align:"start",className:"tailwind-preflight",sideOffset:8,children:(0,t.jsx)(g.CommandMenu,{getId:b,getValue:C,isLoading:c,label:l,onChange:o,open:s,options:a,renderItem:w,value:r})})})]})}var V=e.i(8901011);function j(e){let t=(0,l.useContext)(r.FilterBarContext);if(!t)throw Error("Missing FilterBarContext.Provider in the React tree");return(0,V.useStore)(t,e)}function N(e){let{value:{value:r}={id:"",value:""},onChange:a,onToggle:i,disabled:n,ref:s}=e,[o,u]=(0,l.useState)(r);return(0,t.jsx)("div",{className:"focus:border-rounded -my-px flex items-center border bg-background-100 px-2",children:(0,t.jsx)("input",{"aria-label":"input value",className:(0,d.clsx)("block w-full bg-background-100 focus:outline-none focus:ring-transparent sm:text-sm",n&&"bg-[--themed-bg] text-gray-700"),disabled:n,onBlur:()=>{o!==r&&a((0,f.toValueObj)(o)),i(!1)},onChange:e=>u(e.target.value),onFocus:()=>i(!0),ref:s,type:"text",value:o.toString()})})}function O(e){let{index:r}=e,a=j(e=>e.filters),u=j(e=>e.removeFilter),d=j(e=>e.chooseValue),c=j(e=>e.chooseOperator),m=j(e=>e.searchValues),p=j(e=>e.toggleFilter),g=j(e=>e.edited),h=j(e=>e.config.dimensions),x=j(e=>e.disabled),y=(0,l.useRef)(null),{open:b,dimension:C,values:w,operator:V,availableValues:O,availableOperators:k,parseValue:L}=(0,l.useMemo)(()=>({open:null,availableValues:void 0,availableOperators:void 0,parseValue:void 0,values:a[r]?.values??[],operator:a[r]?.operator,...g?.index===r?g:{},dimension:h.find(e=>{let{id:t}=e;return t===a[r]?.dimension})??h[0]}),[g,a,r,h]),_=(0,l.useCallback)(e=>{e&&"value"===b||p(e?"value":null,r)},[r,p,b]),I=(0,l.useCallback)(e=>void p(e?"operator":null,r),[r,p]);return(0,l.useEffect)(()=>{"match"===V.type&&"value"===b&&setTimeout(()=>y.current?.focus(),100)},[b,V.type]),(0,t.jsxs)("div",{className:"flex h-8 items-stretch","data-testid":(0,o.tid)("filter-bar","cascading-filter"),children:[(0,t.jsx)("div",{className:"rounded-l-md bg-background-100 px-2 py-1.5 text-sm font-normal shadow-border",children:(0,f.renderItem)(C,!0)}),(0,t.jsx)(S,{className:"!font-normal !ring-1 ring-gray-400 focus:ring-gray-500",disabled:x,label:"operator",onChange:c,onOpenChange:I,open:"operator"===b,options:k,value:V}),"match"===V.type&&(0,t.jsx)(N,{disabled:x,onChange:d,onToggle:_,ref:y,value:w[0]}),"match"!==V.type&&"valueless"!==V.type&&(0,t.jsx)(v,{disabled:x,label:C.label,onChange:d,onOpenChange:_,onSearch:m,open:"value"===b,options:O,parseNewValue:L,values:w,availableOperators:k}),(0,t.jsx)(i.Button,{"aria-label":"Remove filter",className:(0,s.cn)("!px-0.5 !ring-1 ring-gray-400 hover:!text-gray-1000 focus:ring-gray-500",x?"bg-[var(--themed-bg)!important]":"!text-gray-900"),disabled:x,onClick:()=>u(r),size:"small",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},svgOnly:!0,type:"secondary",typeName:"button",children:(0,t.jsx)(n.CrossSmall,{size:"small"})})]})}function k(e){let{renderFilter:r}=e,i=j(e=>e.filters),{dimension:n,operator:s,availableValues:o,availableOperators:u,values:d,parseValue:c}=j(e=>e.edited??{dimension:null,operator:null,availableValues:[],availableOperators:[],values:[],parseValue:void 0}),m=j(e=>e.config.dimensions),p=j(e=>e.edited?.index===null?e.edited.open:null),g=j(e=>e.startNewFilter),f=j(e=>e.chooseDimension),h=j(e=>e.chooseOperator),x=j(e=>e.chooseValue),y=j(e=>e.searchValues),b=j(e=>e.disabled);return(0,t.jsxs)("div",{className:"items-top tailwind-preflight flex flex-wrap gap-2",children:[i.map((e,a)=>(0,t.jsx)(l.Fragment,{children:(r||(e=>e))((0,t.jsx)(O,{index:a}),e,a)},a)),!b&&(n?s?(0,t.jsx)(v,{label:n.label,onChange:x,onOpenChange:g,onSearch:y,open:"value"===p,options:o,parseNewValue:c,values:d,availableOperators:u,children:(0,t.jsx)(a.AddFilter,{})}):(0,t.jsx)(S,{label:"operator",onChange:h,onOpenChange:g,open:"value"===p,options:u,children:(0,t.jsx)(a.AddFilter,{})}):(0,t.jsx)(S,{label:"dimension",onChange:e=>void f(e),onOpenChange:g,open:"operator"===p,options:m,children:(0,t.jsx)(a.AddFilter,{})}))]})}var L=e.i(521514);function _(e,t,l){let{edited:r}=l();t({edited:r?.index===e?null:r})}function I(e,t,l,r){let{filters:a,edited:i,onChange:n}=r(),s=t?.operator?.type==="valueless",o=void 0===t||s||t.values?.length?[...a.slice(0,e),t?{...a[e],...t}:void 0,...a.slice(e+1)].filter(e=>void 0!==e):a;l({filters:o,edited:t&&i?{...i,operator:t.operator??i.operator,values:t.values??i.values}:null}),n(o)}function T(e,t){let{dimensions:l}=t;return l.find(t=>{let{id:l}=t;return e?.dimension===l})}function H(e,t,l,r){let{valuesByDimension:a,edited:i}=r(),n=[...a[e.id]??[]],s=new Set(n.map(e=>{let{id:t}=e;return t})),o=!(e.id in a);for(let e of t)s.has(e.id)||(s.add(e.id),n.push(e),o=!0);o&&(i?.dimension?.id===e.id&&l({edited:{...i,availableValues:n}}),l({valuesByDimension:{...a,[e.id]:n}}))}function P(e){return"stringArray"===e.type?e=>{let{type:t}=e;return"array"===t||"valueless"===t}:"boolean"===e.type?e=>{let{type:t}=e;return"single"===t||"valueless"===t}:"number"===e.type?e=>{let{type:t}=e;return"multiple"===t||"single"===t||"numerical"===t||"valueless"===t}:e=>{let{type:t}=e;return"multiple"===t||"single"===t||"match"===t||"valueless"===t}}async function R(e,t){let{filters:l,config:r}=t(),a=new Set;for(let e of l){let l=T(e,r);!l||l.id in t().valuesByDimension||a.add(l)}for(let i of(await Promise.allSettled([...a].map(async l=>{H(l,await E({dimension:l},r.resolveValues),e,t)})),l)){let l=T(i,r);"match"!==i.operator.type&&l&&H(l,i.values,e,t)}e({filters:l.map(e=>({...e,values:e.values.map(l=>t().valuesByDimension[e.dimension]?.find(e=>e.id===l.id)??l)}))})}async function E(e,t){let l=t?.(e);return l instanceof Object&&"then"in l?await l??[]:l??[]}function D(e,t){return JSON.stringify(e)===JSON.stringify(t)}function M(e){let{renderFilter:a,...i}=e,n=(0,l.useRef)((0,L.createStore)()((e,t)=>({config:{dimensions:[],operators:[]},filters:[],onChange:()=>void 0,disabled:!1,edited:null,valuesByDimension:{},setProps:async l=>{let{onChange:r,disabled:a,config:i,filters:n}=l,s=t();if(a!==s.disabled&&e({disabled:a}),r!==s.onChange&&e({onChange:r}),D(s.config,i))D(s.filters,n)||(e({filters:n}),await R(e,t));else{e({config:i,filters:n,edited:null});let l=n.filter(e=>{let{dimension:t}=e;return i.dimensions.some(e=>{let{id:l}=e;return l===t})});D(n,l)||(e({filters:l}),r(l)),await R(e,t)}},toggleFilter:async(l,r)=>{let{config:a,disabled:i,edited:n,filters:s,valuesByDimension:o}=t(),u=s[r],d=T(u,a);!i&&u&&d&&(l||n?.index===null||n?.values.length!==0||I(n.index,void 0,e,t),e({edited:l?{index:r,operator:u.operator,values:u.values,open:l,dimension:d,availableOperators:a.operators.filter(P(d)),availableValues:o[d.id],parseValue:(0,f.makeParseValue)(d)}:null}),H(d,await E({dimension:d},a.resolveValues),e,t))},startNewFilter:l=>{let{config:r,disabled:a,edited:i,filters:n,operatorUponCreation:s}=t();if(!a&&(e({edited:l?{index:null,open:"operator",operator:s?void 0:r.defaultSingleOperator,values:[],availableOperators:r.operators}:null}),i?.dimension&&(i.operator?.type==="multiple"||i.operator?.type==="array"))){let{values:l,operator:r,dimension:{id:a}}=i;l.length&&I(n.length,{values:l,operator:r,dimension:a},e,t)}},chooseDimension:async l=>{let{config:r,edited:a,valuesByDimension:i,operatorUponCreation:n}=t();if(!a)return;let s="stringArray"===l.type?r.defaultArrayOperator:r.defaultSingleOperator;e({edited:{...a,open:"value",dimension:l,operator:n?void 0:s,parseValue:(0,f.makeParseValue)(l),availableValues:i[l.id],availableOperators:r.operators.filter(P(l))}}),H(l,await E({dimension:l},r.resolveValues),e,t)},chooseOperator:async l=>{let{edited:r,filters:a}=t();if(!r)return;if(null===r.index)return void("valueless"===l.type&&r.dimension?(e({edited:null}),I(a.length,{dimension:r.dimension.id,operator:l,values:[]},e,t)):e({edited:{...r,open:"value",operator:l}}));if(r.operator?.type==="valueless"&&"valueless"!==l.type){let t={...r,operator:l,open:null};return e({edited:t}),await new Promise(e=>{setTimeout(e,50)}),e({edited:{...t,open:"value"}})}let i=r.values;"multiple"!==l.type&&r.values.length>1&&(i=r.values.slice(0,1)),"valueless"===l.type&&(i=[]),I(r.index,{...a[r.index],operator:l,values:i},e,t),_(r.index,e,t)},chooseValue:(l,r)=>{let{config:a,filters:i,edited:n}=t();if(!n||!n.dimension||!n.operator)return;let{dimension:s,operator:o,values:u}=n;if(function(e,t){let{value:l}=e;return"number"===t.type&&("number"!=typeof l||Number.isNaN(l))||"boolean"===t.type&&!0!==l&&!1!==l}(l,s))return;let d={values:u,operator:o},c=!1;"match"===o.type?d.values=[l]:(u.every(e=>{let{id:t}=e;return t!==l.id})?(H(s,[l],e,t),"multiple"===o.type||"array"===o.type?d.values=[...u,l]:r?(d.values=[...u,l],d.operator=a.defaultMultiOperator):d.values=[l]):(d.values=u.filter(e=>{let{id:t}=e;return t!==l.id}),r&&"multiple"===o.type&&d.values.length<2&&(d.operator=a.defaultSingleOperator)),c=!r),null===n.index?r?e({edited:{...n,...d}}):(d.values.length&&I(i.length,{dimension:n.dimension.id,...d},e,t),e({edited:null})):(0===d.values.length&&c?I(n.index,void 0,e,t):I(n.index,d,e,t),c&&_(n.index,e,t))},searchValues:async l=>{let{config:r,edited:a}=t();if(!a?.dimension)return;let{dimension:i}=a,n=await E({dimension:i,text:l},r.resolveValues);H(i,n,e,t)},removeFilter:l=>{let{disabled:r,filters:a}=t();!r&&a[l]&&I(l,void 0,e,t)}}))),s=(0,l.useMemo)(()=>i,[i]);return(0,l.useEffect)(()=>{n.current.getState().setProps(s)},[s]),(0,t.jsx)(r.FilterBarContext.Provider,{value:n.current,children:(0,t.jsx)(k,{renderFilter:a})})}},3672946,e=>{"use strict";e.s(["Fullscreen",()=>t]);let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1 5.25V6H2.5V5.25V2.5H5.25H6V1H5.25H2C1.44772 1 1 1.44772 1 2V5.25ZM5.25 14.9994H6V13.4994H5.25H2.5V10.7494V9.99939H1V10.7494V13.9994C1 14.5517 1.44772 14.9994 2 14.9994H5.25ZM15 10V10.75V14C15 14.5523 14.5523 15 14 15H10.75H10V13.5H10.75H13.5V10.75V10H15ZM10.75 1H10V2.5H10.75H13.5V5.25V6H15V5.25V2C15 1.44772 14.5523 1 14 1H10.75Z" fill="currentColor"/>')},4725703,e=>{"use strict";e.s(["FullscreenClose",()=>t]);let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6 1V1.75V5C6 5.55229 5.55228 6 5 6H1.75H1V4.5H1.75H4.5V1.75V1H6ZM14.25 6H15V4.5H14.25H11.5V1.75V1H10V1.75V5C10 5.55228 10.4477 6 11 6H14.25ZM10 14.25V15H11.5V14.25V11.5H14.29H15.04V10H14.29H11C10.4477 10 10 10.4477 10 11V14.25ZM1.75 10H1V11.5H1.75H4.5V14.25V15H6V14.25V11C6 10.4477 5.55229 10 5 10H1.75Z" fill="currentColor"/>')},5348482,e=>{"use strict";e.s(["useOpenQueryBuilder",()=>p,"useQueryBuilderQueryState",()=>m]);var t=e.i(4099374),l=e.i(1283928),r=e.i(7151748),a=e.i(3870297),i=e.i(5338940),n=e.i(3679047),s=e.i(409142),o=e.i(4337458),u=e.i(8690335);let d=Object.entries(l.AllDimensions).map(e=>{let[t,{label:l,type:r}]=e;return{id:t,label:l,type:r}}),c={builder:{defaultValue:!1,onChangeRemoveKeys:["time","metric","by","filter","aggregation","view","marks","granularity"],parseFromUrl:e=>"true"===e,formatToUrl:e=>e.toString()},fullScreen:{defaultValue:!1,parseFromUrl:e=>"true"===e,formatToUrl:e=>e.toString()},time:{defaultValue:"12h",parseFromUrl:e=>{if(e.includes("/")){let[t,l]=e.split("/");return{from:new Date(t),to:new Date(l)}}return e},formatToUrl:e=>"string"==typeof e?e:`${e.from.toISOString()}/${e.to.toISOString()}`},metric:{defaultValue:"incomingRequest.count"},by:{defaultValue:[],formatToUrl:u.serializeBy,parseFromUrl:e=>(0,u.parseBy)(e,d)},filter:{defaultValue:""},aggregation:{defaultValue:"sum"},view:{defaultValue:{type:"line"},parseFromUrl:e=>{let t="line";try{return{type:JSON.parse(e).type??t}}catch(e){return{type:t}}},formatToUrl:e=>JSON.stringify(e)},marks:{defaultValue:void 0,parseFromUrl:e=>JSON.parse(e),formatToUrl:e=>JSON.stringify(e)},granularity:{defaultValue:void 0,parseFromUrl:e=>{let t=/^(\d+)(d|h|m)$/.exec(e);if(t){let[,e,l]=t;return{["d"===l?"days":"h"===l?"hours":"minutes"]:Number(e)}}},formatToUrl:e=>{if(e){let[t,l]=Object.entries(e)[0];return`${l}${t[0]}`}return""}}},m=()=>{let{set:e,state:t}=(0,s.useSearchParamsState)(c);return[t,e]};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"observability-tab-menu",l=arguments.length>1?arguments[1]:void 0,{team:s}=(0,i.useTeam)(),u=(0,o.useSonarQueryScope)(),d=(0,n.usePathname)(),c=(0,n.useRouter)(),m=(0,n.useSearchParams)(),p=u?.type==="project"?u.projectIds[0]:void 0,g=m?.get("period"),f=m?.get("from"),h=m?.get("to");return(0,t.useCallback)(()=>{let t=new URL(d??"",window.location.origin);for(let[e,l]of m?.entries()||[])t.searchParams.set(e,l);for(let[e,r]of(t.searchParams.set("builder","true"),p?t.searchParams.set("filter",`projectId eq '${p}'`):t.searchParams.set("by","projectId"),g?t.searchParams.set("time",g):f&&h&&t.searchParams.set("time",`${new Date(1e3*Number(f)).toISOString()}/${new Date(1e3*Number(h)).toISOString()}`),d?.endsWith("vercel-functions")&&t.searchParams.set("metric","serverlessFunctionInvocation.count"),l?.entries()??[]))t.searchParams.set(e,r);c.push(t.pathname+t.search),r.analytics.track(a.AnalyticsEvent.QUERY_BUILDER_OPENED,{teamId:s?.id,plan:s?.billing?.plan??"hobby",source:e})},[s,p,d,m,c,f,h,g,e,l])}}]);

//# sourceMappingURL=87133709b19c97f6.js.map
//# debugId=322af936-7903-53c3-9edf-78a7dcfca6fc
