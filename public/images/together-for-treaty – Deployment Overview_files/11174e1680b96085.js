
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="03c83828-82df-5e23-8725-0b313fe857cd")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4470704,e=>{"use strict";e.s(["getDeploymentKey",()=>s,"getFinishedState",()=>r,"getUrl",()=>i,"transform",()=>o]);var t=e.i(8042625),n=e.i(4244280);let r=e=>{let t=e?.readyState==="CANCELED",n=e?.readyState==="READY",r=e?.readyState==="ERROR";return t||n||r};function i(e){if(!e)return"";let r=e;return(r=r.replace(/^https?:\/\//,"")).startsWith("dpl_")?`${(0,n.API_DEPLOYMENTS)("v13")}/${r}`:`${(0,n.API_DEPLOYMENTS)("v13")}/get${(0,t.encode)({url:r})}`}function s(e,n,r){let s=i(e);if(s){let e={projectId:r?.projectId,withAutomaticAliases:r?.automaticAliases?1:null},i=s.includes("?url");i||(e.teamId=n,e.withGitRepoInfo=r?.gitRepo?"true":null),s+=(0,t.encode)(e,!i)}return s}function o(e){return e&&(e.host=e.url,e.isPrivate=e.public),e}},6625227,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(9014736),n=e.i(3679047),r=e.i(277234),i=e.i(4470704);function s(e,r,s){let{teamSlug:a}=(0,n.useParams)()??{};return(0,t.default)((0,i.getDeploymentKey)(e,a,s),o,r)}async function o(e){let t=await (0,r.fetchAPI)(e,{throwOnHTTPError:!0});return(0,i.transform)(t)}},3487134,e=>{"use strict";e.s(["Microfrontends",()=>t]);let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 5C2.59736 5 2.92634 4.92129 3.22006 4.78073L7.00001 8.56067L10.7799 4.78073C11.0737 4.92129 11.4027 5 11.75 5C12.9927 5 14 3.99264 14 2.75C14 1.50736 12.9927 0.5 11.75 0.5C10.5074 0.5 9.50001 1.50736 9.50001 2.75C9.50001 3.09736 9.57872 3.42634 9.71929 3.72006L7.00001 6.43934L4.28073 3.72006C4.42129 3.42634 4.5 3.09736 4.5 2.75C4.5 1.50736 3.49264 0.5 2.25 0.5C1.00736 0.5 0 1.50736 0 2.75C0 3.99264 1.00736 5 2.25 5ZM3 2.75C3 3.16422 2.66422 3.5 2.25 3.5C1.83579 3.5 1.5 3.16422 1.5 2.75C1.5 2.33579 1.83579 2 2.25 2C2.66422 2 3 2.33579 3 2.75ZM11.75 3.5C12.1642 3.5 12.5 3.16422 12.5 2.75C12.5 2.33579 12.1642 2 11.75 2C11.3358 2 11 2.33579 11 2.75C11 3.16422 11.3358 3.5 11.75 3.5Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 13.5C3.49264 13.5 4.5 12.4927 4.5 11.25C4.5 10.2703 3.8739 9.43691 3 9.12804V6.5H1.5V9.12804C0.626106 9.43691 0 10.2703 0 11.25C0 12.4927 1.00736 13.5 2.25 13.5ZM3 11.25C3 11.6642 2.66422 12 2.25 12C1.83579 12 1.5 11.6642 1.5 11.25C1.5 10.8358 1.83579 10.5 2.25 10.5C2.66422 10.5 3 10.8358 3 11.25Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.75 13.5C12.9927 13.5 14 12.4927 14 11.25C14 10.2703 13.3739 9.43691 12.5 9.12804V6.5H11V9.12804C10.1261 9.43691 9.50001 10.2703 9.50001 11.25C9.50001 12.4927 10.5074 13.5 11.75 13.5ZM12.5 11.25C12.5 11.6642 12.1642 12 11.75 12C11.3358 12 11 11.6642 11 11.25C11 10.8358 11.3358 10.5 11.75 10.5C12.1642 10.5 12.5 10.8358 12.5 11.25Z" fill="currentColor" />',{viewBox:"0 0 14 14",size:14})},1116271,e=>{"use strict";e.s(["useMicrofrontendsConfig",()=>s]);var t=e.i(9014736),n=e.i(8042625),r=e.i(277234),i=e.i(5338940);function s(e){let{deploymentId:s}=e,{isReady:o,team:a}=(0,i.useTeam)();return(0,t.default)(()=>o&&s?`/api/v1/microfrontends/${s}/config${(0,n.encode)({teamId:a?.id})}`:null,async e=>{let t=await (0,r.fetchAPI)(e);return"error"in t?null:t})}},3930829,e=>{"use strict";e.s(["useIsomorphicSWRInfinite",()=>l]);var t=e.i(4099374),n=e.i(406579),r=e.i(2919890),i=e.i(7316497),s=e.i(5260505),o=e.i(8765922),a=e.i(1194788);function l(e,l,c){let{isServer:d,config:u,fetcher:m,fallbackSource:p}=(0,r.useIsomorphicSwrContext)(!0),f=(0,t.useMemo)(()=>"function"==typeof l?(e,t)=>l(e,t):(e,t)=>t(e),[l]),h=(0,t.useMemo)(()=>e=>{if(d)throw Error("useSWR: swrFetcher is not available on server");return f(e,m)},[d,f,m]),g="object"==typeof l?l:c,{ssr:j,...x}=g??{},y=(0,i.mergeConfig)(u,g),$=e(0,null),v=p($??null,f,y,!1),{data:C,isLoading:M,error:S}=(0,s.useAsyncValue)(d,v),w=(0,n.default)((t,n)=>{let r=e(t,n);return M&&!d?null:r},h,{...x,suspense:!1,fallback:{[(0,n.unstable_serialize)(e)]:C?[C]:void 0},revalidateOnMount:!d&&(x.revalidateOnMount??(!C&&!M))}),{mutate:P,data:b,isLoading:I}=w,T=(0,t.useMemo)(()=>(0,o.withThrottle)($,()=>{(0,a.debug)(`Client fallback data fetch for ${$}`),P()},2e3),[$,P]);return(0,t.useEffect)(()=>{!S||I||b||T()},[S,T,b,I]),{...w,isLoading:w.isLoading&&void 0===w.data||M||d}}},5771992,e=>{"use strict";e.s(["default",()=>g,"useDeploymentsInfinite",()=>h],5771992);var t=e.i(4099374),n=e.i(9014736),r=e.i(8042625),i=e.i(277234),s=e.i(4244280),o=e.i(5338940),a=e.i(1360174),l=e.i(5140444),c=e.i(3679047),d=e.i(3930829),u=e.i(588428),m=e.i(4670733),p=e.i(2259673),f=e.i(7783521);function h(e){let{limit:n,project:i,projectId:h,requireProject:g,users:j,target:x,readyStateFilter:y,meta:$,rollbackCandidate:v,since:C,until:M,subscribeToUpdates:S,branch:w,ignoreProjectSlug:P}=e,{refreshInterval:b,...I}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6",{isReady:L,team:N}=(0,o.useTeam)(),{user:k}=(0,l.useUser)(),[A,D]=(0,t.useState)(()=>b),R=j&&j.length>0?j.map(e=>e.uid).join(","):null,E=i?.id||h,{value:W}=(0,m.useInstantRollbackHobbyRestrictionFlag)(),{value:H}=(0,u.useInstantRollbackHobbyRestrictionTeamFlag)(),{teamSlug:O,project:F}=(0,c.useParams)()??{},q={projectId:E,limit:n,teamId:N?.id,target:x||null,users:R,state:y,meta:$,rollbackCandidate:v,since:C,until:M,branch:w},z=g||(W||H)&&void 0!==v&&(!N||N.billing?.plan==="hobby"),_=(0,d.useIsomorphicSWRInfinite)((e,t)=>{if(O&&F&&!P){if(!e)return`${(0,s.API_DEPLOYMENTS)(T)}${(0,r.encode)({...q,teamId:O,projectId:F})}`;let i=t&&t.deployments.length>=n?t.deployments[t.deployments.length-1].created-1:null;return i?`${(0,s.API_DEPLOYMENTS)(T)}${(0,r.encode)({...q,teamId:O,projectId:F,from:i})}`:null}if(z&&!E)return null;if(!e)return L?`${(0,s.API_DEPLOYMENTS)(T)}${(0,r.encode)(q)}`:null;let i=t&&t.deployments.length>=n?t.deployments[t.deployments.length-1].created-1:null;return i&&L?`${(0,s.API_DEPLOYMENTS)(T)}${(0,r.encode)({...q,from:i})}`:null},{...I,refreshInterval:A,ssr:{timeout:1e3}}),{mutate:B}=_,V=(0,t.useMemo)(()=>(0,a.default)(()=>{B()},100),[B]),{isListening:Y}=function(e,t){let n=e?`${e.accountId}-${e.id}`:void 0;return(0,p.usePusherEvent)("deployments",n,"deployment-created",t)}(S?i:void 0,V);Y||b===A?Y&&3e4!==A&&D(3e4):D(b);let U=(0,t.useMemo)(()=>_.data?_.data.flatMap(e=>e.deployments):[],[_.data]),Z=N?N.id:k?.uid,G=(0,t.useMemo)(()=>S&&Z?U.map(e=>({id:e.uid,readyState:e.readyState,aliasAssigned:!!e.aliasAssigned,ownerId:Z})):[],[U,S,Z]);(0,f.useDeploymentsStatusPing)(G,V);let K=!!_.data,J=K&&0===U.length,Q=K&&_.data&&_.size>_.data.length,X=K&&_.data&&_.data[_.data.length-1]?.deployments.length<n;return[_,{deployments:U,initialDataLoaded:K,isEmpty:J,loadMore:()=>_.setSize(e=>e+1),isLoadingMore:Q,isReachingEnd:X,mutate:_.mutate}]}function g(e){let{limit:t,projectId:a,project:l,from:c,target:d,users:u=[],...m}=e,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v6",{isReady:h,team:g}=(0,o.useTeam)(),j=u.length>0?u.map(e=>e.uid).join(","):null,x=!!a||!!l?.id;return(0,n.default)(h&&x&&t>0?`${(0,s.API_DEPLOYMENTS)(f)}${(0,r.encode)({projectId:a||l?.id,limit:t,from:c||null,teamId:g?.id,target:d,users:j,...m})}`:null,e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}),p)}},5136192,e=>{"use strict";e.s(["getScopeHref",()=>r]);var t=e.i(7482588),n=e.i(6228447);let r=e=>{let{pathname:t,pathParams:r,searchParams:l,team:c,user:u,project:m}=e,p=c?.slug||u?.username,f=function(e){let{pathname:t,pathParams:n,searchParams:r,team:l,user:c,project:u}=e;if(!t)return"/";if(c&&!l){let e=o();return t.endsWith("/~/domains")?`${e}/domains`:t.endsWith("/~/activity")?`${e}/activity`:t.endsWith("/~/settings")?`${e}/settings`:e}let m=l?.slug,p=l?.slug||c?.username,f=u?.name,h=n?.teamSlug??r.get("teamSlug"),g=n?.project??r.get("project"),j=function(e){let t={};for(let[n,r]of e)t[n]=r;return t}(r),x=t.split("/").filter(Boolean),y=x.filter(e=>!/\[.*\]/.test(e)),$=y[0],v=y[y.length-1],C=y[2],M={pathname:t,page:v,query:j,teamSlug:l?.slug};if(h&&g&&f&&p&&t.includes(g))return t.replace(h,p).replace(g,f);if("/dashboard"===t||"/"===t)return`/${p}`;if("help"===$)return m?`/help?teamSlug=${m}`:"/help/";if("new"===$){if("import"===v)return(delete j["create-team-collapsed"],m)?d({pathname:`/new/${m&&m!==c?.username?`${m}/`:""}import`,query:{...j}}):(delete j.teamSlug,d({pathname:"/new/import",query:{...j}}));if("repo"===v)return m?d({pathname:`/new/${m&&m!==c?.username?`${m}/`:""}import/repo`,query:{...j}}):(delete j.teamSlug,d({pathname:"/new/import/repo",query:{...j}}));if("clone"===v)return(p!==j["create-team-collapsed"]&&delete j["create-team-collapsed"],m)?d({pathname:`/new/${p}/clone`,query:{...j}}):(delete j.teamSlug,d({pathname:"/new/clone",query:{...j}}));else if("third-party"===v)return d({pathname:`/new/${p}/git/third-party`});else if(x.includes("templates")){let e=[...x];return e.splice(1,+!!(h&&t.includes(h)),p||""),d({pathname:`/${e.join("/")}`})}return d({pathname:`/new/${p}`})}if(x.includes("account"))return m?a(M):o();if(x.includes("settings"))return m?m!==h&&!f&&g?`/${m}`:a(M,!0):o();if("dashboard"===$||t.includes("/~"))return p&&"integrations"===C?`/${p}/~/integrations`:p&&"domains"===v?`/${p}/~/domains`:p&&h&&t.startsWith(`/${h}/~/repos`)?`/${p}`:p&&h&&t.startsWith(`/${h}/~/ai`)?`/${p}/~/ai`:h&&t.startsWith(`/${h}/~/stores`)||t.startsWith("/dashboard/stores")?m?`/${m}/~/stores`:"/dashboard/stores":t.endsWith("/domains/[domain]")||j.domain||h&&t.startsWith(`/${h}/~/domains`)||t.startsWith("/dashboard/domains")?m?`/${m}/~/domains`:"/dashboard/domains":t.endsWith("/monitoring/[chart]")||j.chart||h&&t.startsWith(`/${h}/~/monitoring`)||t.startsWith("/dashboard/monitoring")?m?`/${m}/~/monitoring`:"/dashboard/monitoring":h&&t.startsWith(`/${h}/~/support/cases`)?m?`/${m}/~/support/cases`:"/dashboard/support/cases":h&&p&&t.includes(`/${h}`)?t.replace(`/${h}`,`/${p}`):t.replace(v,p?`${p}/${v}`:v);if(h&&t.startsWith(`/${h}/~/support/cases`)||t.startsWith("/support/cases")){let e=t.split("/support/cases")[1]||"";return(e.startsWith("/[case-id]")&&(e=""),l)?`/${l.slug}/~/support/cases${e}`:`/support/cases${e}`}return h&&g&&t.startsWith(`/${h}/${g}`)?`/${p}`:"domains"===v?m?s(M):i(M):`/${p}`}({pathname:t,pathParams:r,searchParams:l,team:c,user:u,project:m});if((0,n.isAuthenticationRequired)(c)){let e=(0,n.getTeamLimitedBy)(c);return 1===e.length&&e.includes("mfa")?d({pathname:"/two-factor-required",query:{teamSlug:c?.slug}}):d({pathname:`/login/scope/${p}`,query:{missingScope:"1",next:f}})}return f},i=e=>{let{query:t}=e;return d({pathname:"/domains",query:{...t,teamSlug:void 0}})},s=e=>{let{query:t,teamSlug:n}=e;return d({pathname:"/domains",query:{...t,teamSlug:n}})},o=()=>"/account",a=(e,t)=>{let{pathname:n,page:r,teamSlug:i}=e,s=function(e){let{pathname:t,page:n,fromSettings:r}=e;return r&&n&&"settings"!==n?l.exec(t)?"/invoices":c.exec(t)?"/secure-compute":t.endsWith("/microfrontends/new")?"/microfrontends/new":`/${n}`:""}({pathname:n,page:r,fromSettings:t});return`/${String(i)}/~/settings${s}`},l=/\/settings\/invoices\//,c=/\/settings\/secure-compute\//;function d(e){return(0,t.format)(e)}},3162826,e=>{"use strict";e.s(["CornerDownRight",()=>t]);let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 3V2.25H1V3V9.25C1 10.2165 1.7835 11 2.75 11H12.4393L10.4697 12.9697L9.93934 13.5L11 14.5607L11.5303 14.0303L14.7803 10.7803C15.0732 10.4874 15.0732 10.0126 14.7803 9.71967L11.5303 6.46967L11 5.93934L9.93934 7L10.4697 7.53033L12.4393 9.5H2.75C2.61193 9.5 2.5 9.38807 2.5 9.25V3Z" fill="currentColor"/>')},4896636,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(9014736),n=e.i(8042625),r=e.i(277234),i=e.i(4244280),s=e.i(5338940);let o=(e,o)=>{let{domain:a,filterDeleted:l=!0}=e,{isReady:c,team:d}=(0,s.useTeam)();return(0,t.default)(()=>a&&c?`${i.API_ALIASES}/${encodeURIComponent(a)}${(0,n.encode)({filterDeleted:l,teamId:d?.id})}`:null,e=>(0,r.fetchAPI)(e,{throwOnHTTPError:!0}),o)}},7643270,e=>{"use strict";e.s(["getSuggestedMicrofrontendsConfig",()=>s,"partitionConfigReferencedProjects",()=>n,"partitionMicrofrontendsProjects",()=>t,"postprocessConfig",()=>i,"validateMicrofrontendsGroupName",()=>r]);let t=(e,t)=>{let n=e.find(e=>e.microfrontends?.isDefaultApp),{viewingProjectName:r,applications:i}=t||{},s=e.filter(e=>e.id!==n?.id).sort((e,t)=>e.name.localeCompare(t.name)),o=n?[n,...s.sort((e,t)=>{if(e.name===r)return -1;if(t.name===r)return 1;let n=i?.[e.id]?.deploymentId,s=i?.[t.id]?.deploymentId;return n&&!s?-1:!n&&s?1:e.name.localeCompare(t.name)})]:[];return{defaultProject:n,otherProjects:s,sortedProjects:o}},n=(e,t)=>{let n=(e=>e&&"applications"in e?Object.entries(e.applications):[])(e);return{missingReferences:t.filter(e=>!n.some(t=>{let[n]=t;return n===e.name})),extraReferences:n.filter(e=>{let[n]=e;return!t.some(e=>e.name===n)}).map(e=>{let[t]=e;return{name:t}})}};function r(e){return e?e.length>48?"Group name must be less than 48 characters":null:"Group name is required"}let i=e=>e.replaceAll('"paths": []','"paths": [/* add paths here */]');function s(e,t,n){return i(JSON.stringify({$schema:"https://openapi.vercel.sh/microfrontends.json",applications:{[e.name]:{development:{fallback:n??"...loading.vercel.app"}},...t.reduce((e,t)=>(e[t.name]={routing:[{paths:[]}]},e),{})}},null,2))}},8822420,3305800,e=>{"use strict";e.s(["IconInCircleWrapper",()=>s,"MicrofrontendsIconInCircle",()=>i],8822420);var t=e.i(751170),n=e.i(3487134),r=e.i(9722978);function i(e){let{className:r,size:i=28,color:o}=e;return(0,t.jsx)(s,{className:r,size:i,children:(0,t.jsx)(n.Microfrontends,{color:o})})}function s(e){let{className:n,size:i=28,children:s}=e;return(0,t.jsx)("div",{className:(0,r.clsx)(`flex h-[${i}px] min-w-[${i}px] items-center justify-center rounded-full text-center`,n),children:s})}e.s(["useMicrofrontendsHelpModal",()=>$],3305800);var o=e.i(4099374),a=e.i(9508212),l=e.i(6891161),c=e.i(5838627),d=e.i(1344973),u=e.i(57106),m=e.i(9668517),p=e.i(8518548),f=e.i(7643270),h=e.i(6060673),g=e.i(1438473);function j(e){let{config:n,extraReferences:r,missingReferences:i,onClose:s,projects:o,group:a}=e;return(0,t.jsxs)(l.Modal.Modal,{active:!0,onClickOutside:s,width:720,children:[(0,t.jsx)(l.Modal.Body,{children:(0,t.jsx)(y,{config:n,extraReferences:r,missingReferences:i,projects:o,group:a})}),(0,t.jsx)(l.Modal.Actions,{className:"justify-end",children:(0,t.jsx)(l.Modal.Action,{onClick:s,children:"Done"})})]})}function x(e){let{reference:n,teamSlug:r}=e,{data:i}=(0,h.useProject)(n.name);return(0,t.jsxs)(d.Text,{color:"gray-900",children:[(0,t.jsx)("pre",{className:"inline",children:n.name})," ",i?(0,t.jsxs)(t.Fragment,{children:["-"," ",(0,t.jsxs)(u.Link,{href:`/${r}/${i.name}/settings/microfrontends`,variant:"underline",children:["add project to group ",(0,t.jsx)(g.ArrowRight,{size:12})]})]}):null]},`missing-references-${n.name}`)}function y(e){let{config:n,extraReferences:r,missingReferences:i,group:s,projects:o}=e,h=(0,m.useTeamSlug)(),{defaultProject:g,otherProjects:j}=(0,f.partitionMicrofrontendsProjects)(o),{domain:y}=(0,p.useBestProductionDomain)(g?.id);if(!g||!h)return null;let $=g.rootDirectory?`${g.rootDirectory}/microfrontends.json`:"microfrontends.json";if(!n){let e=(0,f.getSuggestedMicrofrontendsConfig)(g,j,y?.name);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Modal.Header,{children:(0,t.jsx)(l.Modal.Title,{children:"Create Your Config"})}),(0,t.jsxs)(a.Stack,{direction:"column",gap:4,children:[(0,t.jsxs)(d.Text,{children:["The latest production deployment for"," ",(0,t.jsx)(u.Link,{href:`/${h}/${g.name}`,variant:"underline",children:g.name})," ","does not yet have a"," ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," configuration file. Until a config file is added, deployments will work like any regular project, not as part of a Microfrontends group. If the file already exists, redeploy the project to upload it."]}),(0,t.jsxs)(d.Text,{children:["Add your ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," ","configuration file to the root of your default project",g.rootDirectory?(0,t.jsxs)(t.Fragment,{children:[" ","(",(0,t.jsx)("pre",{className:"inline",children:$}),")"," "]}):"",". See the"," ",(0,t.jsx)(u.Link,{href:"/docs/microfrontends/quickstart#define-microfrontends.json",external:!0,tab:!0,variant:"highlight",children:"docs"})," ","for details on how to define your routes."]}),(0,t.jsx)(c.CodeBlock,{filename:$,language:"json",className:"m-0",children:e})]})]})}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Modal.Header,{children:(0,t.jsx)(l.Modal.Title,{children:"Update Your Config"})}),(0,t.jsxs)(a.Stack,{direction:"column",gap:4,children:[i.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Text,{color:"gray-900",lineHeight:24,children:["The latest production deployment for"," ",(0,t.jsxs)(d.Text,{color:"gray-1000",as:"span",children:[(0,t.jsx)(u.Link,{href:`/${h}/${g.name}`,variant:"underline",children:g.name})," "]})," ","does not include configuration for all projects in the microfrontends group"," ",(0,t.jsx)(d.Text,{color:"gray-1000",as:"span",children:(0,t.jsx)(u.Link,{href:`/${h}/${g.name}/settings/microfrontends`,variant:"underline",children:s.name})}),". Add the missing application",i.length>1?"s":""," to your"," ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"}),", or remove the project",i.length>1?"s":""," from the group:"]}),(0,t.jsx)(c.CodeBlock,{language:"json",hideLineNumbers:!0,className:"m-0",children:(0,f.postprocessConfig)(JSON.stringify({applications:i.map(e=>({[e.name]:"microfrontends"in e&&{routing:[{paths:[]}]}}))},null,2))})]}):null,r.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(d.Text,{color:"gray-900",lineHeight:24,children:[r.length>1?"Applications definitions ":"An application definition ",r.length>1?"were":"was"," found in your"," ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," that"," ",r.length>1?"are":"is"," not a project in the microfrontends group"," ",(0,t.jsx)(d.Text,{color:"gray-1000",as:"span",children:(0,t.jsx)(u.Link,{href:`/${h}/${g.name}/settings/microfrontends`,variant:"underline",children:s.name})}),":"]}),(0,t.jsx)(a.Stack,{className:"border-0 border-l-2 border-solid border-gray-400 pl-4",gap:4,children:r.map(e=>(0,t.jsx)(x,{reference:e,teamSlug:h},`extra-reference-${e.name}`))}),(0,t.jsxs)(d.Text,{color:"gray-900",children:["Note: application names in the"," ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," must match the Vercel project name."]})]}):null]})]})}function $(){let{config:e,projects:n,group:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[i,s]=(0,o.useState)(!1),a=(0,o.useCallback)(()=>{s(!1)},[s]),l=(0,o.useCallback)(()=>{s(!0)},[s]);if(!n||!r)return null;let{missingReferences:c,extraReferences:d}=(0,f.partitionConfigReferencedProjects)(e,n);if(0===c.length&&0===d.length)return null;let{defaultProject:u}=(0,f.partitionMicrofrontendsProjects)(n);return u?{showingMicrofrontendsHelpModal:i,openMicrofrontendsHelpModal:l,microfrontendsHelpModal:(0,t.jsx)(t.Fragment,{children:i?(0,t.jsx)(j,{config:e,extraReferences:d,missingReferences:c,onClose:a,projects:n,group:r}):null})}:null}},7132425,e=>{"use strict";e.s(["MicrofrontendsBadge",()=>D]);var t=e.i(751170),n=e.i(3679047),r=e.i(9722978),i=e.i(5797774),s=e.i(1344973),o=e.i(2504781),a=e.i(8216525),l=e.i(3487134),c=e.i(762945),d=e.i(3162826),u=e.i(2988836),m=e.i(57106),p=e.i(6161994),f=e.i(1116271),h=e.i(8822420),g=e.i(3305800),j=e.i(6625227),x=e.i(6060673),y=e.i(7643270),$=e.i(9358876),v=e.i(5136192),C=e.i(5338940),M=e.i(4896636),S=e.i(4099374),w=e.i(5771992),P=e.i(4396019),b=e.i(5071474);function I(e){let{className:n,hasWarning:i,children:s}=e;return(0,t.jsx)(h.IconInCircleWrapper,{className:(0,r.clsx)({"bg-blue-300 text-blue-900 hover:bg-blue-400":!i,"bg-amber-300 text-amber-900 hover:bg-amber-400":i},n),children:s})}function T(e){let{project:t,viewingDeployment:n}=e,{data:r}=(0,P.useProjectProductionDeployment)(t?.id,{config:{revalidateOnFocus:!1}}),i=n?.gitSource?.ref,{deployments:s}=(0,w.useDeploymentsInfinite)({limit:1,project:t,branch:i,requireProject:!0,ignoreProjectSlug:!0})[1],o=i?s[0]:void 0;return n?o:r?.deployment}function L(e){let{project:n,viewingDeployment:r}=e,i=T({project:n,viewingDeployment:r});if(!i)return null;let s=+("READY"!==i.readyState);return(0,t.jsx)(a.DeploymentStatus,{deployment:i,className:`absolute z-${s}`})}function N(e){let{viewingProject:n,viewingDeployment:r,hideOtherChildren:i,applications:s,pathParams:o,projects:a}=e,[l,c]=(0,S.useState)(!1),d=()=>c(!l),{sortedProjects:u}=(0,y.partitionMicrofrontendsProjects)(a,{viewingProjectName:n?.name,applications:s}),m=u[0],p=n?.name===m.name,f=!n||p,h=f?i?1:4:2,g=l?u.length:h,j=i&&!f?[]:[...u.length>g?[{onClick:d,name:(0,$.pluralize)(1===h?"child project":"other child project",u.length-g,!0),hideArrow:h>1,statusDots:(0,t.jsx)("div",{className:"relative size-2",children:u.slice(g).map(e=>(0,t.jsx)(L,{project:e,viewingDeployment:r},e.id))})}]:[],...1===u.length?[{onClick:d,name:"0 child projects"}]:[]],x=[...u.slice(0,g),...j];return(0,t.jsx)(t.Fragment,{children:x.map(e=>(0,t.jsx)(k,{viewingDeployment:r,pathParams:o,projectLink:e,viewingProject:n},e.name))})}function k(e){let{viewingProject:r,viewingDeployment:i,pathParams:o,projectLink:l}=e,{name:c}=l,u="hideArrow"in l&&l.hideArrow,{isDefaultApp:p}="microfrontends"in l&&l.microfrontends||{},f=r?.name===c,{team:h}=(0,C.useTeam)(),{href:g,statusDot:j,statusDotHref:x}=function(e){let{team:n,project:r,viewingDeployment:i,viewingProject:s,pathParams:o,pathname:l,searchParams:c}=e,d=T({project:r,viewingDeployment:i});if(!r||!n)return{href:void 0};let u=d&&"id"in d?d.id:d?.uid;if(i){if(d){let e=`/${n.slug}/${r.name}/${u?.replace("dpl_","")}`;return{href:e,statusDotHref:e,statusDot:(0,t.jsx)(a.DeploymentStatus,{deployment:d})}}let e=i.gitSource?.ref;return{href:`/${n.slug}/${r.name}/deployments${e?`?filterBranch=${e}`:""}`}}return{href:l&&s?(0,v.getScopeHref)({pathname:l,pathParams:o,searchParams:c,team:n,project:r}):`/${n.slug}/${r.name}/settings/microfrontends`,statusDotHref:`/${n.slug}/${r.name}/${u?.replace("dpl_","")}`,statusDot:d?(0,t.jsx)(a.DeploymentStatus,{deployment:d}):void 0}}({team:h,project:"id"in l?l:void 0,viewingDeployment:i,viewingProject:r,pathParams:o,pathname:(0,n.usePathname)(),searchParams:(0,n.useSearchParams)()??new URLSearchParams("")}),y="onClick"in l?l.onClick:void 0,$=j||("statusDots"in l?l.statusDots:void 0);return(0,t.jsxs)("div",{className:"group flex flex-row items-center gap-1",children:[p?null:(0,t.jsx)(t.Fragment,{children:u?(0,t.jsx)("div",{className:"size-4"}):(0,t.jsx)(d.CornerDownRight,{size:12})}),(0,t.jsx)(m.Link,{href:g,type:"secondary",variant:"underline",onClick:y,children:(0,t.jsx)(s.Text,{weight:f?500:400,size:14,children:c})}),$?(0,t.jsx)(m.Link,{href:x||g,onClick:y,children:(0,t.jsx)("div",{className:"ml-1",children:$})}):null,(0,t.jsx)(m.Link,{href:g,onClick:y,children:(0,t.jsx)(d.CornerDownRight,{style:{clipPath:"inset(0 0 0 5px)"},className:"opacity-0 group-hover:opacity-100",size:12})})]},c)}function A(e){let{pageContext:r,className:d="",groupId:h,side:$="bottom",project:v}=e,[C,w]=(0,S.useState)(!1),P=function(e){let{pageContext:r,groupId:i,project:d}=e,h=(0,n.useParams)()||{},{teamSlug:$,project:v,id:C}=h,S=C?`dpl_${C}`:void 0,{data:w}=(0,j.default)(S),{data:P}=(0,x.useProject)(void 0===d?v:void 0,{apiVersion:"v10"}),I=d||P,{data:T,isLoading:L}=(0,f.useMicrofrontendsConfig)({deploymentId:w?.microfrontends?w?.id:void 0}),k=w?.alias.find(e=>e.includes("-git-")),{data:A}=(0,M.default)({domain:k}),D=function(e){let t,{deployment:n,deploymentConfig:r,alias:i,project:s,groupId:o}=e,{data:a}=(0,p.useMicrofrontendsGroups)(),l="the production deployment of the default app";i?.microfrontends?.applications&&Array.isArray(i.microfrontends.applications)?(l="this alias",t=i.microfrontends.applications.reduce((e,t)=>(e[t.projectId]={deploymentId:t.deploymentId},e),{})):n?.microfrontends?.applications&&(l="this deployment",t=n.microfrontends.applications);let{data:c}=(0,x.useProjects)(Object.keys(t??{})),d=a?.groups.find(e=>e.group.id===s?.microfrontends?.groupIds[0]||e.group.id===o);if(!d)return null;let u=t?r?.config:d.config,m=t?c||[]:d.projects;return{...d,config:u,projects:m,target:l,applications:t}}({groupId:i,deployment:w,alias:A,deploymentConfig:T,project:I}),{data:R}=(0,j.default)(D?.configDeploymentId),{showingMicrofrontendsHelpModal:E,openMicrofrontendsHelpModal:W,microfrontendsHelpModal:H}=(0,g.useMicrofrontendsHelpModal)(D||{})||{};if(!$||S&&(!w||L)||v&&!I||!D)return null;let{projects:O,config:F,group:q,target:z,applications:_}=D,{defaultProject:B}=(0,y.partitionMicrofrontendsProjects)(O);if(!B)return null;let V=!I;if(V&&!W)return null;let Y=`/${$}/${B.name}/settings/microfrontends`,U=!!W&&(!w||!F||"READY"!==w.readyState)&&!r,Z=U?(0,t.jsxs)(s.Text,{color:"gray-900",children:["The"," ",(0,t.jsx)(m.Link,{href:Y,type:"primary",children:q.name})," ",(0,t.jsx)(m.Link,{href:`/${$}/~/settings/microfrontends`,children:"microfrontends group"})," ",F?"has invalid configuration":"is missing a configuration file","."]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(s.Text,{color:"gray-900",children:["This ",w?"deployment":"project"," is part of the"," ",(0,t.jsx)(m.Link,{href:Y,type:"primary",children:q.name})," ",(0,t.jsx)(m.Link,{href:`/${$}/~/settings/microfrontends`,children:"microfrontends group"}),"."]})});return{content:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[Z,r?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.InformationFillSmall,{}),(0,t.jsx)(s.Text,{color:"gray-900",children:r})]}):null,(0,t.jsx)("div",{className:"flex flex-col items-start gap-2",children:(0,t.jsx)(N,{viewingProject:I,viewingDeployment:w,hideOtherChildren:!!(r||U),applications:_,projects:O,pathParams:h})}),"this deployment"===z?(0,t.jsx)(s.Text,{color:"gray-900",children:"Projects listed are from when this deployment was created."}):null,"this alias"===z?(0,t.jsx)(s.Text,{color:"gray-900",children:"Projects listed are from when this branch was last updated."}):null,U?(0,t.jsxs)(t.Fragment,{children:[F?(0,t.jsxs)(s.Text,{color:"amber-900",children:["The"," ",(0,t.jsx)(s.Text,{className:"inline",monospace:!0,color:"amber-900",children:"microfrontends.json"})," ","file for ",z,R?(0,t.jsxs)(m.Link,{className:"inline-flex items-center gap-1",href:`/${$}/${B.name}/${R.id}`,variant:"underline",children:[(0,t.jsx)(a.DeploymentStatus,{deployment:R}),(0,t.jsx)(s.Text,{as:"span",monospace:!0,children:(0,b.default)(R).hash})]}):""," ","is out of sync with the projects in the group."]}):(0,t.jsxs)(s.Text,{color:"amber-900",children:["A ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," file was not uploaded in the production deployment for the default app"," ",R?(0,t.jsxs)(m.Link,{className:"inline-flex items-center gap-1",href:`/${$}/${B.name}/${R.id}`,variant:"underline",children:[(0,t.jsx)(a.DeploymentStatus,{deployment:R}),(0,t.jsx)(s.Text,{as:"span",monospace:!0,children:(0,b.default)(R).hash})]}):"",". A configuration file is required to enable Microfrontends routing."]}),(0,t.jsx)(o.Button,{onClick:W,size:"small",type:"warning",children:"See Details"})]}):null]})}),hasWarning:U,icon:V&&U?(0,t.jsx)(c.Warning,{}):(0,t.jsx)(l.Microfrontends,{}),showingMicrofrontendsHelpModal:E,microfrontendsHelpModal:H}}({pageContext:r,groupId:h,project:v});if(!P)return null;let{content:T,hasWarning:L,icon:k,microfrontendsHelpModal:A,showingMicrofrontendsHelpModal:D}=P,R=(0,t.jsx)("div",{className:"max-w-[274px] p-1",onClick:e=>{e.target instanceof HTMLElement&&e.target.closest("a[href]")&&w(!0)},children:(0,t.jsx)("div",{className:"flex flex-col gap-2",children:T})});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.ContextCard.Trigger,{content:R,side:$,hide:D||C,children:(0,t.jsx)("div",{onMouseEnter:()=>w(!1),children:(0,t.jsx)(I,{className:d,hasWarning:!!L,children:k})})}),A]})}function D(e){let{project:r}=e,{project:i,id:s}=(0,n.useParams)()||{},o=s?`dpl_${s}`:void 0,{data:a}=(0,j.default)(o),{data:l}=(0,x.useProject)(void 0===r?i:void 0,{apiVersion:"v10"});return(r||l)?.microfrontends||a?.microfrontends?(0,t.jsx)(A,{...e}):null}}]);

//# sourceMappingURL=867bad75e1eb5750.js.map
//# debugId=03c83828-82df-5e23-8725-0b313fe857cd
