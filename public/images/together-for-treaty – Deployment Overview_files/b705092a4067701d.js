
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f99e6c5a-da37-5081-87a1-88fc5614ad83")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,287495,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(6280036);function a(){let{resolvedTheme:e,forcedTheme:a}=(0,t.useTheme)();return void 0===e||"light"===a||("system"===e?void 0:"light"===e&&"dark"!==a)}},9070994,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(277234);function a(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a.headers=a.headers||{},a.headers.Accept=a.headers.Accept||"application/json",function(e){if("object"==typeof e&&null!==e){let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return!1}(a.body)&&(a.body=JSON.stringify(a.body)),a.teamId){let t=encodeURIComponent;e=e.includes("?")?`${e}&teamId=${t(a.teamId)}`:`${e}?teamId=${t(a.teamId)}`}return(0,t.default)(e,{...a,wrapErrorsLegacy:!0,throwOnHTTPError:!0})}},620038,e=>{"use strict";e.s(["BillingFormModalBody",()=>l]);var t=e.i(751170),a=e.i(1344973),i=e.i(6891161),r=e.i(9508212),n=e.i(9588822);function l(e){let{className:l,children:s,account:d,description:o,assignCardToEntity:u,showSetDefaultPayment:c,...m}=e;return(0,t.jsxs)(i.Modal.Body,{className:l??"rounded-t-none border-0 border-t border-solid border-gray-200 bg-background-200",children:[(0,t.jsx)(i.Modal.P,{children:o??(0,t.jsxs)(t.Fragment,{children:["Add your credit card details below for team"," ",(0,t.jsx)(a.Text,{as:"span",weight:700,children:d.name}),". Please ensure your CVC and postal codes match what is on file for your card."]})}),(0,t.jsxs)(r.Stack,{gap:5,children:[(0,t.jsx)(n.BillingForm,{breakLine:!0,showSetDefaultPayment:c,...m}),s]})]})}},1877305,e=>{"use strict";e.s(["FieldsetTitle",()=>r]);var t=e.i(751170),a=e.i(9792418),i=e.i(6239252);function r(e){let{id:r,children:n,suffix:l}=e;return(0,t.jsx)(a.FieldsetTitle,{id:r,children:(0,t.jsxs)("div",{className:"flex flex-col items-start gap-2 md:flex-row md:items-center",children:[(0,t.jsx)(i.SearchContextHighlighter,{children:n}),l]})})}},6214931,e=>{"use strict";e.s(["TEAM_SETTINGS_NAVIGATION_TITLES",()=>t,"TEAM_SETTINGS_TITLES",()=>a]);let t={general:{name:"Team Name",slug:"Team URL",avatar:"Team Avatar",previewDeploymentSuffix:"Preview Deployment Suffix",id:"Team ID",comments:"Comments",transfer:"Transfer",leaveTeam:"Leave Team",deleteTeam:"Delete Team"},billing:{plan:"Plan",paymentMethod:"Payment Method",concurrentBuilds:"Concurrent Builds",enhancedBuildMachines:"Enhanced Build Machines",addOns:"Add-Ons",spendManagement:"Spend Management",remoteCaching:"Remote Caching",analyticsSampling:"Speed Insights Sampling",invoiceEmailRecipient:"Invoice Email Recipient",companyName:"Company Name",billingAddress:"Billing Address",invoiceLanguage:"Invoice Language",invoicePurchaseOrder:"Invoice Purchase Order",taxId:"Tax ID",monitoring:"Monitoring",marketplace:"Marketplace"},security:{auditLog:"Audit Log",environmentVariablePolicy:"Environment Variable Policies",samlSingleSignOn:"SAML Single Sign-On",mfaEnforcement:"Two-Factor Authentication Enforcement",hideIpAddresses:"IP Address Visibility",ipBlocking:"IP Blocking",gitExclusivity:"Protected Git Scopes"}},a={general:"General",billing:"Billing",invoices:"Invoices",members:"Members",security:"Security & Privacy",deploymentProtection:"Deployment Protection",microfrontends:"Microfrontends",notifications:"My Notifications",environmentVariables:"Environment Variables",webhooks:"Webhooks",logDrains:"Log Drains",secureCompute:"Secure Compute",accessGroups:"Access Groups",apps:"Apps"}},106227,e=>{"use strict";function t(e){if("string"!=typeof e)throw TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}e.s(["default",()=>t])},6774523,e=>{"use strict";e.s(["getUnsafeKey",()=>t]);let t=(e,t)=>t?`${t}-${e}`:e},4743851,e=>{e.v({match:"highlight-text-module__e16_XW__match"})},4837983,9130958,e=>{"use strict";e.s(["HighlightText",()=>s],4837983);var t=e.i(751170),a=e.i(4099374);e.s(["highlightString",()=>n],9130958);var i=e.i(106227),r=e.i(6774523);function n(e,t){let a=Array.isArray(t),n=a?t.map(e=>(0,i.default)(e)).join("|"):(0,i.default)(t);return e.split(RegExp(`(${n})`,"gi")).map((e,i)=>({id:(0,r.getUnsafeKey)(i,e),highlighted:a?t.map(e=>e.toLowerCase()).includes(e.toLowerCase()):e.toLowerCase()===t.toLowerCase(),text:e}))}var l=e.i(4743851);let s=(0,a.memo)(function(e){let{className:i,text:r,search:s,as:d="div"}=e,o=(0,a.useMemo)(()=>{var e,a;let i=(Array.isArray(s)?s:[s]).filter(e=>e.length>1);if(e=r,a=i,0===e.length||e.length>4096||0===a.length)return r;let d=r.split(/(?<temp1><a[^>]*>.*?<\/a>)/),o=0,u=[];for(let e=0;e<d.length;e++){let a=d[e];if(a.startsWith("<a")){o+=1,u.push(a);continue}let s=n(a,i);if(o+s.length>500)return r;o+=s.length;let c=s.map(a=>a.highlighted?(0,t.jsx)("mark",{className:l.default.match,children:a.text},`${a.id}-${e}`):a.text);u.push(c)}return u.flat()},[r,s]);return(0,t.jsx)(d,{className:i,children:o})});s.displayName="HighlightText"},4031249,e=>{"use strict";e.s(["SettingsSearchContext",()=>t]);let t=e.i(4099374).createContext({search:"",setSearch:()=>void 0});t.displayName="SettingsSearchContext"},6239252,e=>{"use strict";e.s(["SearchContextHighlighter",()=>n]);var t=e.i(751170),a=e.i(4099374),i=e.i(4837983),r=e.i(4031249);function n(e){let{children:n,as:l="span"}=e,{search:s}=(0,a.useContext)(r.SettingsSearchContext);return(0,t.jsx)(i.HighlightText,{as:l,search:s,text:[n].flat().join("")})}},2807882,e=>{e.v({action:"fieldset-module__OIkhoW__action",actions:"fieldset-module__OIkhoW__actions",borderless:"fieldset-module__OIkhoW__borderless",content:"fieldset-module__OIkhoW__content",disabled:"fieldset-module__OIkhoW__disabled",error:"fieldset-module__OIkhoW__error",errorBorder:"fieldset-module__OIkhoW__errorBorder",fieldset:"fieldset-module__OIkhoW__fieldset",footer:"fieldset-module__OIkhoW__footer",full:"fieldset-module__OIkhoW__full",highlight:"fieldset-module__OIkhoW__highlight",noBottomPadding:"fieldset-module__OIkhoW__noBottomPadding",shadow:"fieldset-module__OIkhoW__shadow",status:"fieldset-module__OIkhoW__status",tabsRow:"fieldset-module__OIkhoW__tabsRow",title:"fieldset-module__OIkhoW__title",warning:"fieldset-module__OIkhoW__warning",warningBorder:"fieldset-module__OIkhoW__warningBorder"})},8517043,e=>{"use strict";e.s(["Fieldset",()=>n]);var t=e.i(751170),a=e.i(9722978),i=e.i(9544652),r=e.i(2807882);function n(e){let{className:n,disabled:l,children:s,hasShadow:d,borderlessTabs:o,type:u,...c}=e;return(0,t.jsx)("div",{className:(0,a.clsx)(r.default.fieldset,n,{[String(r.default.borderless)]:o,[String(r.default.shadow)]:d,[String(r.default.errorBorder)]:"error"===u,[String(r.default.warningBorder)]:"warning"===u}),...c,"data-geist-fieldset":"","data-version":"v1",children:(0,t.jsx)(i.DisabledContext.Provider,{value:l??!1,children:s})})}},7137884,e=>{"use strict";e.s(["FieldsetContent",()=>l]);var t=e.i(751170),a=e.i(9722978),i=e.i(9544652),r=e.i(2807882),n=e.i(8449001);function l(e){let{disabled:l,disabledWall:s=!0,children:d,noPadding:o,noBottomPadding:u,className:c}=e,m=(0,i.useDisabled)(l);return(0,t.jsx)(i.DisabledContext.Provider,{value:m,children:(0,t.jsxs)("div",{className:(0,a.clsx)(r.default.content,c,{[String(r.default.disabled)]:m,"geist-disabled":m,[String(r.default.full)]:o,[String(r.default.noBottomPadding)]:u}),"data-geist-fieldset-content":"",children:[s?(0,t.jsx)(n.DisabledWall,{}):null,d]})})}},1232681,e=>{"use strict";e.s(["FieldsetFooter",()=>d]);var t=e.i(751170),a=e.i(4099374),i=e.i(9722978),r=e.i(4004502),n=e.i(9544652),l=e.i(2807882),s=e.i(8449001);function d(e){let{disabled:a,children:d,className:o,highlight:u}=e,c=(0,n.useDisabled)(a);return(0,t.jsx)(n.DisabledContext.Provider,{value:c,children:(0,t.jsxs)("footer",{className:(0,i.clsx)(l.default.footer,o,{[String(l.default.disabled)]:c,[String(l.default.highlight)]:u,"geist-disabled":c}),"data-geist-fieldset-footer":"","data-testid":(0,r.tid)("geist","fieldset","footer","status"),"data-version":"v1",children:[(0,t.jsx)(s.DisabledWall,{}),d]})})}let o=e=>{let{children:a}=e;return(0,t.jsx)("div",{"data-geist-fieldset-footer-action":"",children:a})};d.Status=e=>{let{children:a,disabled:r}=e;return(0,t.jsx)("div",{className:(0,i.clsx)(l.default.status,{[String(l.default.disabled)]:r}),"data-geist-fieldset-footer-status":"",children:a})},d.Actions=e=>{let{children:r,className:n}=e;return(0,t.jsx)("div",{className:(0,i.clsx)(l.default.actions,n),"data-geist-fieldset-footer-actions":"",children:a.Children.map(r,(e,a)=>e?(0,t.jsx)(o,{children:e},a):null)})}},9792418,e=>{"use strict";e.s(["FieldsetTitle",()=>l]);var t=e.i(751170),a=e.i(9722978),i=e.i(5858269),r=e.i(1344973),n=e.i(2807882);function l(e){let{id:l,children:s}=e;return(0,t.jsx)(r.Text,{as:"h4",className:(0,a.clsx)(n.default.title),id:l?(0,i.default)(l):void 0,lineHeight:32,size:20,children:s})}},3895030,e=>{"use strict";e.s(["FieldsetSubtitle",()=>n]);var t=e.i(751170),a=e.i(4004502),i=e.i(9544652),r=e.i(1344973);function n(e){let{children:n,...l}=e,s=(0,i.useDisabled)();return(0,t.jsx)(r.Text,{className:s?"disabled":"","data-testid":(0,a.tid)("geist","fieldset","subtitle"),lineHeight:24,style:{margin:"var(--geist-gap-half) 0"},...l,children:n})}},5063443,e=>{"use strict";e.s(["ErrorText",()=>i]);var t=e.i(751170),a=e.i(2807882);function i(e){let{children:i}=e;return(0,t.jsx)("span",{className:a.default.error,"data-geist-fieldset-error":"","data-version":"v1",children:i})}},5807088,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(751170),a=e.i(4099374),i=e.i(7137884),r=e.i(8517043),n=e.i(1232681),l=e.i(5255926);let s=a.default.memo(e=>{let{height:a=79,footerHeight:s=32,extraHeight:d,noFooter:o,className:u}=e,c=~~(a/56),m=d??Math.max(0,a-56*c-8*c);return(0,t.jsxs)(r.Fieldset,{className:u,children:[(0,t.jsxs)(i.FieldsetContent,{children:[(0,t.jsx)(l.Skeleton,{boxHeight:40,width:120}),Array(c).fill(0).map((e,a)=>(0,t.jsx)(l.Skeleton,{boxHeight:56,width:250},a)),(0,t.jsx)("div",{style:{height:m}})]}),!o&&(0,t.jsx)(n.FieldsetFooter,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{height:4}}),(0,t.jsx)(l.Skeleton,{boxHeight:s-8,width:200}),(0,t.jsx)("div",{style:{height:4}})]})})]})})},562525,e=>{"use strict";e.s(["RedactedBar",()=>n,"default",()=>l]);var t=e.i(751170),a=e.i(2560270),i=e.i(4099374),r=e.i(4450569);let n=e=>{let{width:a=100,style:r}=e,n=(0,i.useMemo)(()=>({maxWidth:a,...r}),[a,r]);return(0,t.jsx)("div",{className:"h-4 w-full rounded-xs bg-gray-200",style:n})};function l(e){let{width:l=256,withChevronDown:s=!1}=e,d=(0,i.useMemo)(()=>({maxWidth:l}),[l]),o=(0,i.useMemo)(()=>({justifyContent:"space-between"}),[]);return(0,t.jsx)("div",{className:"flex h-10 w-full items-center justify-between rounded-md border border-gray-200 bg-background-100 p-[7px] px-3 text-gray-1000",style:d,children:(0,t.jsxs)(r.default,{row:!0,style:o,children:[(0,t.jsx)(n,{width:s?.5*l:.64*l}),s?(0,t.jsx)(a.ChevronDown,{}):null]})})}},7694500,e=>{"use strict";e.s(["TaxIDFields",()=>A,"default",()=>C]);var t=e.i(751170),a=e.i(4099374),i=e.i(8248823),r=e.i(2504781),n=e.i(7137884),l=e.i(5063443),s=e.i(8517043),d=e.i(1232681),o=e.i(3500331),u=e.i(5323212),c=e.i(9508212),m=e.i(3895030),h=e.i(455575),p=e.i(9070994),g=e.i(4244280),f=e.i(7917902),x=e.i(1119178),b=e.i(1717203),_=e.i(7557283),v=e.i(6214931),y=e.i(1877305),S=e.i(562525),T=e.i(5807088);let j={au_abn:{name:"Australian Business Number (AU ABN)",placeholder:"12345678912"},au_arn:{name:"Australian Taxation Office Reference Number",placeholder:"123456789123"},br_cnpj:{name:"Brazil CNPJ number",placeholder:"01.234.456/5432-10"},br_cpf:{name:"Brazil CPF number",placeholder:"123.456.789-87"},bg_uic:{name:"Bulgaria Unified Identification Code",placeholder:"123456789"},ca_bn:{name:"Canada BN",placeholder:"123456789"},ca_gst_hst:{name:"Canada GST/HST number",placeholder:"123456789RT0002"},ca_pst_bc:{name:"Canadian PST number (British Columbia)",placeholder:"PST-1234-5678"},ca_pst_mb:{name:"Canadian PST number (Manitoba)",placeholder:"123456-7"},ca_pst_sk:{name:"Canadian PST number (Saskatchewan)",placeholder:"1234567"},ca_qst:{name:"Canadian QST number (Québec)",placeholder:"1234567890TQ1234"},cl_tin:{name:"Chilean TIN",placeholder:"12.345.678-K"},eg_tin:{name:"Egyptian Tax Identification Number",placeholder:"123456789"},eu_vat:{name:"EU VAT number",placeholder:"DE000000000"},eu_oss_vat:{name:"European One Stop Shop VAT number for non-Union scheme",placeholder:"EU123456789"},ge_vat:{name:"Georgian VAT",placeholder:"123456789"},hk_br:{name:"Hong Kong BR number",placeholder:"12345678"},hu_tin:{name:"Hungary tax number (adószám)",placeholder:"12345678-1-23"},is_vat:{name:"Icelandic VAT",placeholder:"123456"},id_npwp:{name:"Indonesian NPWP number",placeholder:"12.345.678.9-012.345"},in_gst:{name:"Indian GST number",placeholder:"12ABCDE3456FGZH"},il_vat:{name:"Israel VAT",placeholder:"000012345"},jp_cn:{name:"Japanese Corporate Number (*Hōjin Bangō*)",placeholder:"1234567891234"},jp_rn:{name:"Japanese Registered Foreign Businesses' Registration Number (*Tōroku Kokugai Jigyōsha no Tōroku Bangō*)",placeholder:"12345"},jp_trn:{name:"Japanese Tax Registration Number (*Tōroku Bangō*)",placeholder:"T1234567891234"},ke_pin:{name:"Kenya Revenue Authority Personal Identification Number",placeholder:"P000111111A"},li_uid:{name:"Liechtensteinian UID number",placeholder:"CHE123456789"},my_frp:{name:"Malaysian FRP number",placeholder:"12345678"},my_itn:{name:"Malaysian ITN",placeholder:"C 1234567890"},my_sst:{name:"Malaysian SST number",placeholder:"A12-3456-78912345"},mx_rfc:{name:"Mexican RFC number",placeholder:"ABC010203AB9"},nz_gst:{name:"New Zealand GST number",placeholder:"123456789"},no_vat:{name:"Norwegian VAT number",placeholder:"123456789MVA"},ph_tin:{name:"Philippines Tax Identification Number",placeholder:"123456789012"},ru_inn:{name:"Russian INN",placeholder:"1234567891"},ru_kpp:{name:"Russian KPP",placeholder:"123456789"},sa_vat:{name:"Saudi Arabia VAT",placeholder:"123456789012345"},sg_gst:{name:"Singaporean GST",placeholder:"M12345678X"},sg_uen:{name:"Singaporean UEN",placeholder:"123456789F"},si_tin:{name:"Slovenia tax number (davčna številka)",placeholder:"12345678"},za_vat:{name:"South African VAT number",placeholder:"4123456789"},kr_brn:{name:"South Korean BRN",placeholder:"123-45-67890"},es_cif:{name:"Spanish NIF number",placeholder:"A12345678"},ch_vat:{name:"Switzerland VAT number",placeholder:"CHE-123.456.789 MWST"},tw_vat:{name:"Taiwanese VAT",placeholder:"12345678"},th_vat:{name:"Thai VAT",placeholder:"1234567891234"},tr_tin:{name:"Turkish Tax Identification Number",placeholder:"0123456789"},ua_vat:{name:"Ukrainian VAT",placeholder:"123456789"},ae_trn:{name:"United Arab Emirates TRN",placeholder:"123456789012345"},gb_vat:{name:"United Kingdom VAT number",placeholder:"GB123456789"},us_ein:{name:"United States EIN",placeholder:"12-3456789"},ad_nrt:{name:"Andorran NRT number",placeholder:"A-123456-Z"},ar_cuit:{name:"Argentinian tax ID number",placeholder:"12-3456789-01"},bo_tin:{name:"Bolivian tax ID",placeholder:"123456789"},cn_tin:{name:"Chinese tax ID",placeholder:"123456789012345678"},co_nit:{name:"Colombian NIT number",placeholder:"123.456.789-0"},cr_tin:{name:"Costa Rican tax ID",placeholder:"1-234-567890"},do_rcn:{name:"Dominican RCN number",placeholder:"123-4567890-1"},ec_ruc:{name:"Ecuadorian RUC number",placeholder:"1234567890001"},pe_ruc:{name:"Peruvian RUC number",placeholder:"12345678901"},ro_tin:{name:"Romanian tax ID number",placeholder:"1234567890123"},sv_nit:{name:"El Salvadorian NIT number",placeholder:"1234-567890-123-4"},rs_pib:{name:"Serbian PIB number",placeholder:"123456789"},uy_ruc:{name:"Uruguayan RUC number",placeholder:"123456789012"},ve_rif:{name:"Venezuelan RIF number",placeholder:"A-12345678-9"},vn_tin:{name:"Vietnamese tax ID number",placeholder:"1234567890"}};function C(){let e=(0,f.useAccount)(),{isLoading:a}=(0,b.default)();return!e||e.isLoading||!e.user||a?(0,t.jsx)(T.default,{}):(0,t.jsx)(I,{})}function I(){let e=(0,f.useAccount)(),{can:o}=(0,b.default)(),{user:u,team:T}=e,C=T||u,I=C?.billing?.tax||null,[N,w]=(0,a.useState)(null),[E,k]=(0,a.useState)(!1),[P,B]=(0,a.useState)(I?.id||""),[D,O]=(0,a.useState)(I?.type||"eu_vat"),M=(0,h.useToasts)(),F=(0,a.useCallback)(async t=>{t.preventDefault();try{w(null),k(!0);let t=j[D]?.original||D,a=P?{id:P,type:t}:null,i=new URLSearchParams(T?{teamId:T.id}:{}),r=await (0,p.default)(`${g.API_STRIPE_SETTINGS}?${i}`,{method:"PATCH",body:JSON.stringify({tax:a})});if(r.error)throw Error(r.error.message||"Unexpected error. Please try again later.");e.mutate(),M.success("Your tax ID has been updated.")}catch(e){w((0,i.errorToString)(e))}finally{k(!1)}},[T,D,P,e,M]),R=o(_.Action.Update,_.Resource.BillingTaxId),L=o(_.Action.Read,_.Resource.BillingTaxId);return(0,t.jsx)("div",{children:(0,t.jsx)("form",{onSubmit:(0,x.promiseToCallback)(F),children:(0,t.jsxs)(s.Fieldset,{disabled:!R,children:[(0,t.jsxs)(n.FieldsetContent,{children:[(0,t.jsx)(y.FieldsetTitle,{id:v.TEAM_SETTINGS_NAVIGATION_TITLES.billing.taxId,children:v.TEAM_SETTINGS_NAVIGATION_TITLES.billing.taxId}),(0,t.jsx)(m.FieldsetSubtitle,{children:"If you would like your invoice to render a specific tax ID, enter it here."}),L?(0,t.jsx)(A,{disabled:E||!R,onSetTaxIdType:O,onSetTaxValue:B,taxIdType:D,taxIdValue:P}):(0,t.jsxs)(c.Stack,{direction:"row",gap:2,children:[(0,t.jsx)(S.default,{width:196,withChevronDown:!0}),(0,t.jsx)(S.default,{width:196})]})]}),(0,t.jsxs)(d.FieldsetFooter,{disabled:!1,highlight:!R,children:[(0,t.jsx)(d.FieldsetFooter.Status,{children:N&&N?(0,t.jsx)(l.ErrorText,{children:N}):R?"Countries that do not use Tax IDs are not listed.":"You need additional information to manage your tax ID information on your invoice."}),R?(0,t.jsx)(d.FieldsetFooter.Actions,{children:(0,t.jsx)(r.Button,{loading:E,size:"small",width:E?100:80,children:E?"Saving":"Save"})}):null]})]})})})}function A(e){let{disabled:i,taxIdValue:r,taxIdType:n,onSetTaxIdType:l,onSetTaxValue:s}=e,d=(0,a.useMemo)(()=>Object.values(j).reduce((e,t)=>t.placeholder.length>e.placeholder.length?t:e,j.eu_vat).placeholder.length,[]);return(0,t.jsxs)(c.Stack,{align:{sm:"center"},direction:{sm:"row"},gap:3,children:[(0,t.jsx)(u.Select,{"aria-label":"Tax ID Type",disabled:i,name:"tax-id-type",onChange:e=>{l(e.target.value)},value:n,children:Object.entries(j).map(e=>{let[a,i]=e;return(0,t.jsx)("option",{value:a,children:i.name},a)})}),(0,t.jsx)(o.Input,{"aria-label":"Tax ID",disabled:i,maxLength:254,name:"tax-id-value",onChange:e=>{s(e.target.value)},placeholder:j[n].placeholder,value:r,width:`${d+16}ch`})]})}},8132352,9394659,e=>{"use strict";e.s(["FullBillingAddressForm",()=>v],8132352);var t=e.i(751170),a=e.i(4099374),i=e.i(9508212),r=e.i(3500331),n=e.i(3671642),l=e.i(5323212),s=e.i(4030453),d=e.i(4004502),o=e.i(3575921);e.s(["ValidationError",()=>c,"fromZodError",()=>m],9394659),e.i(3512434),e.i(4162261);let u=/[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*/u;class c extends Error{details;name;constructor(e,t=[]){super(e),this.details=t,this.name="ZodValidationError"}toString(){return this.message}}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{maxIssuesInMessage:a=99,issueSeparator:i="; ",unionSeparator:r=", or ",prefixSeparator:n=": ",prefix:l="Validation error"}=t,s=e.errors.slice(0,a).map(e=>(function e(t,a,i){if("invalid_union"===t.code)return t.unionErrors.reduce((t,r)=>{let n=r.issues.map(t=>e(t,a,i)).join(a);return t.includes(n)||t.push(n),t},[]).join(i);if(0!==t.path.length){var r;if(1===t.path.length){let e=t.path[0];if("number"==typeof e)return`${t.message} at index ${e}`}return`${t.message} at "${1===(r=t.path).length?r[0].toString():r.reduce((e,t)=>{if("number"==typeof t)return e+"["+t.toString()+"]";if(t.includes('"'))return e+'["'+t.replace(/"/g,'\\"')+'"]';if(!u.test(t))return e+'["'+t+'"]';let a=0===e.length?"":".";return e+a+t},"")}"`}return t.message})(e,i,r)).join(i);return new c(s?[l,s].join(n):l,e.errors)}var h=e.i(1361980),p=e.i(5552838),g=e.i(7694500),f=e.i(6881349),x=e.i(1987325),b=e.i(1399);function _(e){let{disabled:r,revealAddressDetails:l,setRevealAddressDetails:s,onAddressDetailsChange:d,address1:u,setAddress:c,countryCode:m}=e,[h,p]=(0,a.useState)([]),[g,_]=(0,a.useState)(!1),v=(0,a.useMemo)(()=>(0,x.default)(async e=>{let t={number:"",country:"",city:"",state:"",countryCode:m,addressLabel:e,formattedAddress:e,postalCode:"",stateCode:"",street:e};try{if(e.length<=3)return;let{addresses:a}=await (0,b.getAddressSuggestions)({query:e,country:m});0===a.length?p([t]):p(a)}catch{p([t])}finally{_(!1)}},250),[m]);return(0,t.jsx)(i.Stack,{gap:2,children:(0,t.jsxs)(n.Label,{value:"Billing Address",children:[(0,t.jsx)("input",{name:"address1",required:!0,type:"hidden",value:u}),(0,t.jsxs)(f.Combobox,{disabled:r,filter:(e,t)=>e,name:"address1",onChange:e=>{if("manual"===e)s(!0);else if(e){let t=h[Number(e)];if("US"===m)c({address1:t.addressLabel,address2:"",city:t.city,state:t.stateCode,zip:t.postalCode});else{let e=o.data[m.toUpperCase()].sub,a=`${m}-${t.stateCode}`;c({address1:t.addressLabel,address2:"",city:t.city,state:a in e?a:"",zip:t.postalCode})}l||s(!0)}},onClear:()=>{p([]),c({address1:"",address2:"",city:"",state:"",zip:""})},placeholder:"Find your address...",value:u,children:[(0,t.jsx)(f.Combobox.Input,{autoComplete:"billing address-line1",className:"detect-autofill","data-form-type":"other",loading:g,name:"address1",onAnimationStart:()=>{l||s(!0)},onChange:e=>{e.preventDefault();let t=e.target.value;d(e),_(!0),v(t)},required:!0}),(0,t.jsx)(f.Combobox.List,{collisionPadding:{bottom:120},hideOnEmpty:l,children:(0,t.jsxs)(t.Fragment,{children:[h.map((e,a)=>(0,t.jsx)(f.Combobox.Option,{value:a.toString(),children:e.formattedAddress},e.formattedAddress)),l?null:(0,t.jsx)(f.Combobox.Option,{displayLast:!0,value:"manual",children:"Enter address manually"},"manual")]})})]})]})})}function v(e){let{disabled:u=!1,error:m,captureAddress:f,captureTaxId:x,disableTaxId:b=!1}=e,v=(0,a.useMemo)(()=>h.default.getCountries(),[]),[y,S]=(0,a.useState)("us"),[T,j]=(0,a.useState)({address1:"",address2:"",city:"",state:"",zip:""}),[C,I]=(0,a.useState)("eu_vat"),[A,N]=(0,a.useState)(""),w=(0,a.useRef)(null),[E,k]=(0,a.useState)(!1),P=e=>{let{name:t,value:a}=e.target;j({...T,[t]:a})},B=(0,a.useMemo)(()=>{if("us"===y||null===y)return p.usStates;if("xk"===y)return[["XK","Kosovo"]];if("cy"===y)return[["CY-01","Nicosia"],["CY-02","Limassol"],["CY-03","Larnaca"],["CY-04","Famagusta"],["CY-05","Paphos"],["CY-06","Kyrenia"]];let e=o.data[y.toUpperCase()].sub??[];return Object.keys(e).map(t=>{let a=e[t];return[t,a.name]}).sort()},[y]);return(0,a.useEffect)(()=>{m instanceof c&&(!T.city||!T.zip||!T.state)&&k(!0)},[m,T]),(0,a.useEffect)(()=>{f?.({country:y??void 0,zipCode:T.zip,line1:T.address1,line2:T.address2,city:T.city,state:T.state})},[T,f,y]),(0,a.useEffect)(()=>{x?.({type:C,value:A})},[x,C,A]),(0,t.jsxs)(i.Stack,{gap:5,children:[(0,t.jsx)(i.Stack,{gap:2,children:(0,t.jsx)(n.Label,{value:"Country",children:(0,t.jsx)(l.Select,{autoComplete:"country",disabled:u,name:"country",onChange:e=>{S(e.target.value)},placeholder:"Select a country...",value:y??void 0,children:v.map(e=>(0,t.jsx)("option",{value:e.iso2,children:e.name},e.iso2))})})}),(0,t.jsx)(_,{address1:T.address1,countryCode:y?.toUpperCase()||"US",disabled:u,onAddressDetailsChange:P,revealAddressDetails:E,setAddress:j,setRevealAddressDetails:k}),(0,t.jsxs)(i.Stack,{"aria-hidden":!E,className:E?void 0:"geist-visually-hidden","data-testid":(0,d.tid)("billing-address-form","address-details"),gap:5,children:[(0,t.jsx)(i.Stack,{children:(0,t.jsx)(n.Label,{style:{flex:1},value:"Address 2",children:(0,t.jsx)(r.Input,{"aria-label":"Address 2",autoComplete:"billing address-line2",disabled:u,name:"address2",onChange:P,ref:w,tabIndex:E?void 0:-1,value:T.address2})})}),(0,t.jsxs)(i.Stack,{direction:"row",gap:5,style:{flexWrap:"wrap"},children:[(0,t.jsx)(n.Label,{style:{minWidth:"50px",flex:1},value:"City",children:(0,t.jsx)(r.Input,{"aria-label":"City",autoComplete:"billing address-level2",disabled:u,name:"city",onChange:P,required:E,tabIndex:E?void 0:-1,value:T.city})}),(0,t.jsx)(n.Label,{style:{maxWidth:"164px"},value:"us"===y?"State":"State/Province/Region",children:(0,t.jsx)(l.Select,{"aria-label":"us"===y?"State":"State/Province/Region",autoComplete:"billing address-level1",disabled:u,name:"state",onChange:e=>{let t=e.target.value;j({...T,state:t})},required:E,tabIndex:E?void 0:-1,value:T.state,children:B.map(e=>{let[a,i]=e;return(0,t.jsx)("option",{value:a,children:i},a)})})}),(0,t.jsx)(n.Label,{value:"us"===y?"Zip Code":"ZIP / Postal Code",wrapperClassName:"w-[120px] max-sm:w-full",children:(0,t.jsx)(r.Input,{"aria-label":"us"===y?"Zip Code":"ZIP / Postal Code",autoComplete:"billing postal-code",disabled:u,name:"zip",onChange:P,required:E,tabIndex:E?void 0:-1,value:T.zip})})]})]}),"us"!==y&&!b&&(0,t.jsx)(n.Label,{style:{flex:1},value:"Tax ID (Optional)",children:(0,t.jsx)(g.TaxIDFields,{disabled:u,onSetTaxIdType:I,onSetTaxValue:N,taxIdType:C,taxIdValue:A})}),m?(0,t.jsx)(s.Error,{"data-testid":(0,d.tid)("billing-address-form","error"),error:"string"==typeof m?{message:m}:m}):null]})}},7525322,e=>{"use strict";e.s(["validateAddress",()=>l,"validateAddressFormData",()=>n]),e.i(3512434);var t=e.i(9835407),a=e.i(9394659);let i=t.z.string().transform(e=>e.toUpperCase()).refine(e=>"null"!==e&&2===e.length,{message:"Country is required"}),r=t.z.object({zipCode:t.z.string({invalid_type_error:"Missing value",required_error:"Missing value"}).min(2),line1:t.z.string().refine(e=>"null"!==e&&e,{message:"Missing value"}),line2:t.z.string().optional(),state:t.z.string({invalid_type_error:"Missing value",required_error:"Missing value"}).min(1),city:t.z.string({invalid_type_error:"Missing value",required_error:"Missing value"}).min(1)}).required();function n(e){try{let t=i.parse(e.get("country"));return{...r.parse({zipCode:e.get("zip"),line1:e.get("address1"),line2:e.get("address2"),state:e.get("state"),city:e.get("city")}),country:t}}catch(e){return e instanceof t.z.ZodError?(0,a.fromZodError)(e,{issueSeparator:". ",prefixSeparator:": ",prefix:"Error"}):e}}function l(e){try{let{country:t,...a}=e,n=i.parse(t),l=r.parse(a);return{country:n,...l}}catch(e){return e instanceof t.z.ZodError?(0,a.fromZodError)(e,{issueSeparator:". ",prefixSeparator:": ",prefix:"Error"}):e}}}]);

//# sourceMappingURL=442497017c6d6d24.js.map
//# debugId=f99e6c5a-da37-5081-87a1-88fc5614ad83
